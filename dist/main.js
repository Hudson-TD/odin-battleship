(()=>{var e={496:(e,t,a)=>{const{removeMatchingObjects:r}=a(225);e.exports={computerLegalAttack:function(e){let t=[],a=[];for(let e=0;e<10;e++)for(let t=0;t<10;t++)a.push({x:e,y:t});e.board.missedShots.forEach((e=>{t.push(e)})),e.board.hits.forEach((e=>{t.push(e)}));let n=r(a,t);return n[Math.floor(Math.random()*n.length)]}}},817:(e,t,a)=>{const{game:r}=a(404);function n(e,t,a,r){const n=document.querySelector(".main-content-container");document.querySelectorAll(".table-container").forEach((e=>e.remove()));const i=document.createElement("div");i.classList.add("game-over-container");const s=document.createElement("h1");s.classList.add("game-over-header"),s.setAttribute("id",`${a}`),s.textContent=t,i.appendChild(s);const o=document.createElement("img");o.classList.add("game-over-img"),o.setAttribute("src",e),i.appendChild(o);const l=document.createElement("p");l.classList.add("game-over-message"),l.textContent=`${r}`,i.appendChild(l);const c=document.createElement("button");c.setAttribute("id","playAgainBtn"),c.innerText="Play Again",i.appendChild(c),n.appendChild(i),document.getElementById("playAgainBtn").addEventListener("click",(e=>{e.preventDefault(),window.location.reload()}))}e.exports={renderPlayerCreationEl:function(){const e=document.querySelector(".main-content-container");let t=document.createElement("div");t.classList.add("player-creation-container");let a=document.createElement("p");a.innerText="You are about to enter unfamiliar waters in an effort to neutralize enemy ships. Due to thick fog our strategy is simple, fire artillery and observe any contact. Intel suggests the enemy fleet contains 5 ships of varying sizes...\n  \n  Instructions:\n  \n  Using arial reconnaissance, order fire on mapped coordinates. Hits will reflect red, while misses will be blue. We are counting on you.";let r=document.createElement("form");r.setAttribute("name","player-creation-form"),r.setAttribute("class","player-creation-form");let n=document.createElement("input");n.setAttribute("id","playerName"),n.setAttribute("type","text"),n.setAttribute("min","1"),n.required=!0,n.setAttribute("max","25"),n.setAttribute("placeholder","Player Name");let i=document.createElement("button");i.setAttribute("id","playerSubmit"),i.setAttribute("type","submit"),i.setAttribute("for","player-creation-form"),i.innerText="Launch Fleet",t.appendChild(r),r.appendChild(a),r.appendChild(n),r.appendChild(i),e.appendChild(t)},generateGameboardEl:function(e){const t=[...e.board.grid],a=document.querySelector(".main-content-container"),r=document.createElement("div");r.setAttribute("class","table-container");const n=document.createElement("table");n.setAttribute("class","gameboard-table");const i=document.createElement("th");i.innerText=`${e.name}'s Fleet`,r.appendChild(i);for(let a=0;a<10;a++){const r=document.createElement("tr");r.setAttribute("class","gameboard-row");for(let n=0;n<10;n++){const i=10*a+n;if(i<t.length){const a=document.createElement("td");r.appendChild(a),a.setAttribute("data-x",`${t[i].x}`),a.setAttribute("data-y",`${t[i].y}`),a.setAttribute("data-attacked",`${t[i].attacked}`),a.setAttribute("data-ship",`${t[i].shipName}`),a.setAttribute("class","gameboard-tile"),"Computer"===e.name?a.classList.add("enemy-tile"):"Computer"!==e.name&&a.classList.add("player-tile")}}n.appendChild(r)}r.appendChild(n),a.appendChild(r)},handleHitsAndMisses:function(){document.querySelectorAll(".gameboard-tile").forEach((e=>{let t=e.getAttribute("data-attacked"),a=e.getAttribute("data-ship");"true"===t&&"undefined"===a&&(e.classList.remove("enemy-tile"),e.classList.add("missed")),"true"===t&&"undefined"!==a&&(e.classList.remove("enemy-tile"),e.classList.add("hit"))}))},handlePlayerGrid:function(){document.querySelectorAll(".player-tile").forEach((e=>{"undefined"!==e.getAttribute("data-ship")&&e.classList.add("occupied")}))},checkGameOver:function(e,t){let a,r,i,s;!0===t.board.isLoser?(a="https://media.giphy.com/media/3o85xDZyvJPHLfgKXK/giphy.gif",r="You Win",i="winner",s="Operation successful, enemy fleet has been eliminated!",n(a,r,i,s)):!0===e.board.isLoser&&(a="https://media.giphy.com/media/3o6Ztn38eCMwTQIcs8/giphy.gif",r="You Lose",i="loser",s="War....war never changes...",n(a,r,i,s))}}},404:(e,t,a)=>{const{renderPlayerCreationEl:r,generateGameboardEl:n,handleHitsAndMisses:i,handlePlayerGrid:s,checkGameOver:o}=a(817),{player:l}=a(507),{computerLegalAttack:c}=a(496);e.exports={game:()=>({playerOneName:void 0,playerTwoName:"Computer",playerOne:void 0,PlayerTwo:void 0,init:function(){r(),this.cacheDom(),this.startEventListening()},cacheDom:function(){this.formContainer=document.querySelector(".player-creation-container"),this.formSubmitBtn=document.getElementById("playerSubmit"),this.formInput=document.getElementById("playerName")},startEventListening:function(){this.formSubmitBtn.addEventListener("click",(e=>{e.preventDefault(),"Computer"!==this.formInput.value?(this.playerOneName=this.formInput.value,this.formContainer.remove(),this.handleGameSetup()):window.alert("Computer is a reserved name, please enter a new name :)")}))},handleGameSetup:function(){this.playerOne=l(this.playerOneName),this.PlayerTwo=l(this.playerTwoName),this.handlePlotting(),n(this.playerOne),n(this.PlayerTwo),s(),this.startAttackListening()},startAttackListening:function(){document.querySelectorAll(".enemy-tile").forEach((e=>{e.addEventListener("click",(e=>{e.target.setAttribute("data-attacked","true");let t=e.target.getAttribute("data-x"),a=e.target.getAttribute("data-y");this.PlayerTwo.board.receiveAttack(t,a);let r=c(this.playerOne);this.playerOne.board.receiveAttack(r.x,r.y),document.querySelectorAll(".player-tile").forEach((e=>{let t=e.getAttribute("data-x"),a=e.getAttribute("data-y");t===String(r.x)&&a===String(r.y)&&e.setAttribute("data-attacked","true")})),i(),o(this.playerOne,this.PlayerTwo)}),{once:!0})}))},handlePlotting:function(){this.playerOne.board.plotFleet(),this.PlayerTwo.board.plotFleet()}})}},498:(e,t,a)=>{const{ship:r}=a(643),{randomNumGen:n}=a(225);e.exports={gameboard:()=>{const e=n();let t=[];return{isLoser:!1,grid:(()=>{for(let e=0;e<10;e++)for(let a=0;a<10;a++)t.push({x:e,y:a,shipName:void 0,attacked:!1});return t})(),missedShots:[],hits:[],sunkShips:[],myFleet:[r("Carrier",e),r("Battleship",e),r("Destroyer",e),r("Submarine",e),r("Patrol Boat",e)],receiveAttack:function(e,t){this.grid.forEach((a=>{if(a.x==e&&a.y==t)if(a.attacked=!0,void 0===a.shipName)this.missedShots.push({x:e,y:t});else switch(a.shipName){case"Carrier":this.hits.push({x:e,y:t}),this.myFleet[0].hit();break;case"Battleship":this.hits.push({x:e,y:t}),this.myFleet[1].hit();break;case"Destroyer":this.hits.push({x:e,y:t}),this.myFleet[2].hit();break;case"Submarine":this.hits.push({x:e,y:t}),this.myFleet[3].hit();break;case"Patrol Boat":this.hits.push({x:e,y:t}),this.myFleet[4].hit()}})),this.checkSunkShips()},plotFleet:function(){this.myFleet.forEach((e=>{e.location.forEach((t=>{this.grid.forEach((a=>{a.x===t.x&&a.y===t.y&&(a.shipName=e.name)}))}))}))},checkSunkShips:function(){this.myFleet.forEach((e=>{!0!==e.sunk||this.sunkShips.includes(e.name)||this.sunkShips.push(String(e.name))})),this.toggleGameOver()},toggleGameOver:function(){5==this.sunkShips.length&&(this.isLoser=!0)}}}}},225:e=>{e.exports={removeMatchingObjects:function(e,t){return e.filter((e=>!t.some((t=>e.x===t.x&&e.y===t.y))))},randomNumGen:function(){return Math.floor(5*Math.random())+1}}},507:(e,t,a)=>{const{gameboard:r}=a(498);e.exports={player:e=>({name:e,isTurn:!1,board:r()})}},643:(e,t,a)=>{const{plotMaps:r}=a(471);e.exports={ship:(e,t)=>({name:e,length:(e=>{switch(e){case"Carrier":return Number(5);case"Battleship":return Number(4);case"Destroyer":case"Submarine":return Number(3);case"Patrol Boat":return Number(2);default:throw new Error("Invalid ship type provided")}})(e),hits:0,sunk:!1,location:function(e,t){switch(e){case"Carrier":return r[t][0];case"Battleship":return r[t][1];case"Destroyer":return r[t][2];case"Submarine":return r[t][3];case"Patrol Boat":return r[t][4];default:throw new Error("Error generating coordinates")}}(e,t),hit:function(){this.hits+=1,this.isSunk()},isSunk:function(){this.hits===this.length&&(this.sunk=!0)}})}},471:e=>{e.exports={plotMaps:[[],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:2,y:3},{x:2,y:4},{x:2,y:5},{x:2,y:6}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:7},{x:4,y:8},{x:4,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:5,y:3},{x:6,y:3},{x:7,y:3},{x:8,y:3}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:0,y:7},{x:1,y:7},{x:2,y:7},{x:3,y:7},{x:4,y:7}],[{x:5,y:2},{x:6,y:2},{x:7,y:2},{x:8,y:2}],[{x:9,y:5},{x:9,y:6},{x:9,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:1,y:1},{x:1,y:2}]],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:5,y:3},{x:6,y:3},{x:7,y:3},{x:8,y:3}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:8,y:4},{x:8,y:5},{x:8,y:6},{x:8,y:7},{x:8,y:8}],[{x:1,y:2},{x:1,y:3},{x:1,y:4},{x:1,y:5}],[{x:0,y:9},{x:1,y:9},{x:2,y:9}],[{x:7,y:2},{x:8,y:2},{x:9,y:2}],[{x:4,y:3},{x:4,y:4}]]]}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}(()=>{const{game:e}=a(404);e().init()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsS0FHZixDQUNFLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsS0FHZixDQUNFLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsS0FHZixDQUNFLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsTSxHQy9JYm1JLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjNELElBQWpCNEQsRUFDSCxPQUFPQSxFQUFhL0ksUUFHckIsSUFBSUQsRUFBUzZJLEVBQXlCRSxHQUFZLENBR2pEOUksUUFBUyxDQUFDLEdBT1gsT0FIQWdKLEVBQW9CRixHQUFVL0ksRUFBUUEsRUFBT0MsUUFBUzZJLEdBRy9DOUksRUFBT0MsT0FDZixDLE1DdEJBLE1BQU0sS0FBRW9CLEdBQVMsRUFBUSxLQUVUQSxJQUNSa0UsTSIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9jb21wdXRlckFjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2RvbUNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2dhbWVMb2dpYy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9oZWxwZXJzLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3NoaXAuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3NoaXBQbG90dGluZy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgcmVtb3ZlTWF0Y2hpbmdPYmplY3RzIH0gPSByZXF1aXJlKFwiLi9oZWxwZXJzXCIpO1xuXG5mdW5jdGlvbiBjb21wdXRlckxlZ2FsQXR0YWNrKHBsYXllcikge1xuICBsZXQgaWxsZWdhbE1vdmVzID0gW107XG4gIGxldCBhdHRhY2tPcHRpb25zID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgYXR0YWNrT3B0aW9ucy5wdXNoKHtcbiAgICAgICAgeDogaSxcbiAgICAgICAgeTogaixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHBsYXllci5ib2FyZC5taXNzZWRTaG90cy5mb3JFYWNoKChvYmopID0+IHtcbiAgICBpbGxlZ2FsTW92ZXMucHVzaChvYmopO1xuICB9KTtcblxuICBwbGF5ZXIuYm9hcmQuaGl0cy5mb3JFYWNoKChvYmopID0+IHtcbiAgICBpbGxlZ2FsTW92ZXMucHVzaChvYmopO1xuICB9KTtcblxuICBsZXQgbGVnYWxBdHRhY2tzID0gcmVtb3ZlTWF0Y2hpbmdPYmplY3RzKGF0dGFja09wdGlvbnMsIGlsbGVnYWxNb3Zlcyk7XG5cbiAgbGV0IHJhbmRvbUxlZ2FsQXR0YWNrID1cbiAgICBsZWdhbEF0dGFja3NbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGVnYWxBdHRhY2tzLmxlbmd0aCldO1xuXG4gIHJldHVybiByYW5kb21MZWdhbEF0dGFjaztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGNvbXB1dGVyTGVnYWxBdHRhY2sgfTtcbiIsImNvbnN0IHsgZ2FtZSB9ID0gcmVxdWlyZShcIi4vZ2FtZUxvZ2ljXCIpO1xuXG5mdW5jdGlvbiByZW5kZXJQbGF5ZXJDcmVhdGlvbkVsKCkge1xuICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250ZW50LWNvbnRhaW5lclwiKTtcbiAgbGV0IGNvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZChcInBsYXllci1jcmVhdGlvbi1jb250YWluZXJcIik7XG5cbiAgbGV0IG92ZXJ2aWV3VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXG4gIG92ZXJ2aWV3VGV4dC5pbm5lclRleHQgPSBgWW91IGFyZSBhYm91dCB0byBlbnRlciB1bmZhbWlsaWFyIHdhdGVycyBpbiBhbiBlZmZvcnQgdG8gbmV1dHJhbGl6ZSBlbmVteSBzaGlwcy4gRHVlIHRvIHRoaWNrIGZvZyBvdXIgc3RyYXRlZ3kgaXMgc2ltcGxlLCBmaXJlIGFydGlsbGVyeSBhbmQgb2JzZXJ2ZSBhbnkgY29udGFjdC4gSW50ZWwgc3VnZ2VzdHMgdGhlIGVuZW15IGZsZWV0IGNvbnRhaW5zIDUgc2hpcHMgb2YgdmFyeWluZyBzaXplcy4uLlxuICBcbiAgSW5zdHJ1Y3Rpb25zOlxuICBcbiAgVXNpbmcgYXJpYWwgcmVjb25uYWlzc2FuY2UsIG9yZGVyIGZpcmUgb24gbWFwcGVkIGNvb3JkaW5hdGVzLiBIaXRzIHdpbGwgcmVmbGVjdCByZWQsIHdoaWxlIG1pc3NlcyB3aWxsIGJlIGJsdWUuIFdlIGFyZSBjb3VudGluZyBvbiB5b3UuYDtcblxuICBsZXQgZm9ybUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gIGZvcm1FbC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwicGxheWVyLWNyZWF0aW9uLWZvcm1cIik7XG4gIGZvcm1FbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBsYXllci1jcmVhdGlvbi1mb3JtXCIpO1xuXG4gIGxldCBpbnB1dEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBpbnB1dEVsLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheWVyTmFtZVwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJtaW5cIiwgXCIxXCIpO1xuICBpbnB1dEVsLnJlcXVpcmVkID0gdHJ1ZTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJtYXhcIiwgXCIyNVwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlBsYXllciBOYW1lXCIpO1xuXG4gIGxldCBidG5FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ0bkVsLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheWVyU3VibWl0XCIpO1xuICBidG5FbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICBidG5FbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJwbGF5ZXItY3JlYXRpb24tZm9ybVwiKTtcbiAgYnRuRWwuaW5uZXJUZXh0ID0gXCJMYXVuY2ggRmxlZXRcIjtcblxuICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChmb3JtRWwpO1xuICBmb3JtRWwuYXBwZW5kQ2hpbGQob3ZlcnZpZXdUZXh0KTtcbiAgZm9ybUVsLmFwcGVuZENoaWxkKGlucHV0RWwpO1xuICBmb3JtRWwuYXBwZW5kQ2hpbGQoYnRuRWwpO1xuICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChjb250YWluZXJFbCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlR2FtZWJvYXJkRWwocGxheWVyKSB7XG4gIGNvbnN0IGRhdGFBcnJheSA9IFsuLi5wbGF5ZXIuYm9hcmQuZ3JpZF07XG4gIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGVudC1jb250YWluZXJcIik7XG4gIGNvbnN0IHRhYmxlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGFibGVDb250YWluZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0YWJsZS1jb250YWluZXJcIik7XG4gIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuICB0YWJsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImdhbWVib2FyZC10YWJsZVwiKTtcbiAgY29uc3QgcGxheWVySGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcbiAgcGxheWVySGVhZGluZy5pbm5lclRleHQgPSBgJHtwbGF5ZXIubmFtZX0ncyBGbGVldGA7XG4gIHRhYmxlQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXllckhlYWRpbmcpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICByb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJnYW1lYm9hcmQtcm93XCIpO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICBjb25zdCBkYXRhSW5kZXggPSBpICogMTAgKyBqO1xuXG4gICAgICBpZiAoZGF0YUluZGV4IDwgZGF0YUFycmF5Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS14XCIsIGAke2RhdGFBcnJheVtkYXRhSW5kZXhdLnh9YCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS15XCIsIGAke2RhdGFBcnJheVtkYXRhSW5kZXhdLnl9YCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1hdHRhY2tlZFwiLCBgJHtkYXRhQXJyYXlbZGF0YUluZGV4XS5hdHRhY2tlZH1gKTtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNoaXBcIiwgYCR7ZGF0YUFycmF5W2RhdGFJbmRleF0uc2hpcE5hbWV9YCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJnYW1lYm9hcmQtdGlsZVwiKTtcbiAgICAgICAgLy8gT25seSBhZGQgZXZlbnQgbGlzdGVuZXJzIHRvIGVuZW15IGdhbWVib2FyZFxuICAgICAgICBpZiAocGxheWVyLm5hbWUgPT09IFwiQ29tcHV0ZXJcIikge1xuICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImVuZW15LXRpbGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAocGxheWVyLm5hbWUgIT09IFwiQ29tcHV0ZXJcIikge1xuICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcInBsYXllci10aWxlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRhYmxlLmFwcGVuZENoaWxkKHJvdyk7XG4gIH1cbiAgdGFibGVDb250YWluZXIuYXBwZW5kQ2hpbGQodGFibGUpO1xuICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlQ29udGFpbmVyKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlSGl0c0FuZE1pc3NlcygpIHtcbiAgY29uc3QgYWxsR3JpZEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYW1lYm9hcmQtdGlsZVwiKTtcbiAgYWxsR3JpZEl0ZW1zLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICBsZXQgc3RhdHVzID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dGFja2VkXCIpO1xuICAgIGxldCBuYW1lID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNoaXBcIik7XG4gICAgaWYgKHN0YXR1cyA9PT0gXCJ0cnVlXCIgJiYgbmFtZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGlsZS5jbGFzc0xpc3QucmVtb3ZlKFwiZW5lbXktdGlsZVwiKTtcbiAgICAgIHRpbGUuY2xhc3NMaXN0LmFkZChcIm1pc3NlZFwiKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSBcInRydWVcIiAmJiBuYW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJlbmVteS10aWxlXCIpO1xuICAgICAgdGlsZS5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBsYXllckdyaWQoKSB7XG4gIGNvbnN0IGFsbFBsYXllclRpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBsYXllci10aWxlXCIpO1xuICBhbGxQbGF5ZXJUaWVzLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICBsZXQgbmFtZSA9IHRpbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zaGlwXCIpO1xuICAgIGlmIChuYW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aWxlLmNsYXNzTGlzdC5hZGQoXCJvY2N1cGllZFwiKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjaGVja0dhbWVPdmVyKHBsYXllck9uZSwgcGxheWVyVHdvKSB7XG4gIGxldCBwcm9wT25lID0gdW5kZWZpbmVkO1xuICBsZXQgcHJvcFR3byA9IHVuZGVmaW5lZDtcbiAgbGV0IHByb3BUaHJlZSA9IHVuZGVmaW5lZDtcbiAgbGV0IHByb3BGb3VyID0gdW5kZWZpbmVkO1xuXG4gIGlmIChwbGF5ZXJUd28uYm9hcmQuaXNMb3NlciA9PT0gdHJ1ZSkge1xuICAgIHByb3BPbmUgPSBcImh0dHBzOi8vbWVkaWEuZ2lwaHkuY29tL21lZGlhLzNvODV4RFp5dkpQSExmZ0tYSy9naXBoeS5naWZcIjtcbiAgICBwcm9wVHdvID0gXCJZb3UgV2luXCI7XG4gICAgcHJvcFRocmVlID0gXCJ3aW5uZXJcIjtcbiAgICBwcm9wRm91ciA9IFwiT3BlcmF0aW9uIHN1Y2Nlc3NmdWwsIGVuZW15IGZsZWV0IGhhcyBiZWVuIGVsaW1pbmF0ZWQhXCI7XG4gICAgcmVuZGVyR2FtZU92ZXJIVE1MKHByb3BPbmUsIHByb3BUd28sIHByb3BUaHJlZSwgcHJvcEZvdXIpO1xuICB9IGVsc2UgaWYgKHBsYXllck9uZS5ib2FyZC5pc0xvc2VyID09PSB0cnVlKSB7XG4gICAgcHJvcE9uZSA9IFwiaHR0cHM6Ly9tZWRpYS5naXBoeS5jb20vbWVkaWEvM282WnRuMzhlQ013VFFJY3M4L2dpcGh5LmdpZlwiO1xuICAgIHByb3BUd28gPSBcIllvdSBMb3NlXCI7XG4gICAgcHJvcFRocmVlID0gXCJsb3NlclwiO1xuICAgIHByb3BGb3VyID0gXCJXYXIuLi4ud2FyIG5ldmVyIGNoYW5nZXMuLi5cIjtcbiAgICByZW5kZXJHYW1lT3ZlckhUTUwocHJvcE9uZSwgcHJvcFR3bywgcHJvcFRocmVlLCBwcm9wRm91cik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyR2FtZU92ZXJIVE1MKGdpZlVybCwgaGVhZGVyLCBzdGF0dXMsIG1lc3NhZ2UpIHtcbiAgY29uc3QgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGVudC1jb250YWluZXJcIik7XG4gIGxldCB0YWJsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYmxlLWNvbnRhaW5lclwiKTtcbiAgdGFibGVzLmZvckVhY2goKHRhYmxlKSA9PiB0YWJsZS5yZW1vdmUoKSk7XG5cbiAgY29uc3QgZ2FtZU92ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBnYW1lT3ZlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ2FtZS1vdmVyLWNvbnRhaW5lclwiKTtcblxuICBjb25zdCBnYW1lT3ZlckhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgZ2FtZU92ZXJIZWFkZXIuY2xhc3NMaXN0LmFkZChcImdhbWUtb3Zlci1oZWFkZXJcIik7XG4gIGdhbWVPdmVySGVhZGVyLnNldEF0dHJpYnV0ZShcImlkXCIsIGAke3N0YXR1c31gKTtcbiAgZ2FtZU92ZXJIZWFkZXIudGV4dENvbnRlbnQgPSBoZWFkZXI7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVPdmVySGVhZGVyKTtcblxuICBjb25zdCBnYW1lT3ZlckdpZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gIGdhbWVPdmVyR2lmLmNsYXNzTGlzdC5hZGQoXCJnYW1lLW92ZXItaW1nXCIpO1xuICBnYW1lT3ZlckdpZi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgZ2lmVXJsKTtcbiAgZ2FtZU92ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZ2FtZU92ZXJHaWYpO1xuXG4gIGNvbnN0IGdhbWVPdmVyTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBnYW1lT3Zlck1lc3NhZ2UuY2xhc3NMaXN0LmFkZChcImdhbWUtb3Zlci1tZXNzYWdlXCIpO1xuICBnYW1lT3Zlck1lc3NhZ2UudGV4dENvbnRlbnQgPSBgJHttZXNzYWdlfWA7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVPdmVyTWVzc2FnZSk7XG5cbiAgY29uc3QgcGxheUFnYWluQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgcGxheUFnYWluQnRuLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheUFnYWluQnRuXCIpO1xuICBwbGF5QWdhaW5CdG4uaW5uZXJUZXh0ID0gXCJQbGF5IEFnYWluXCI7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXlBZ2FpbkJ0bik7XG5cbiAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoZ2FtZU92ZXJDb250YWluZXIpO1xuICBsaXN0ZW5Gb3JQbGF5QWdhaW4oKTtcbn1cblxuZnVuY3Rpb24gbGlzdGVuRm9yUGxheUFnYWluKCkge1xuICBjb25zdCBwbGF5QWdhaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlBZ2FpbkJ0blwiKTtcbiAgcGxheUFnYWluLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVuZGVyUGxheWVyQ3JlYXRpb25FbCxcbiAgZ2VuZXJhdGVHYW1lYm9hcmRFbCxcbiAgaGFuZGxlSGl0c0FuZE1pc3NlcyxcbiAgaGFuZGxlUGxheWVyR3JpZCxcbiAgY2hlY2tHYW1lT3Zlcixcbn07XG4iLCJjb25zdCB7XG4gIHJlbmRlclBsYXllckNyZWF0aW9uRWwsXG4gIGdlbmVyYXRlR2FtZWJvYXJkRWwsXG4gIGhhbmRsZUhpdHNBbmRNaXNzZXMsXG4gIGhhbmRsZVBsYXllckdyaWQsXG4gIGNoZWNrR2FtZU92ZXIsXG59ID0gcmVxdWlyZShcIi4vZG9tQ29udHJvbGxlclwiKTtcbmNvbnN0IHsgcGxheWVyIH0gPSByZXF1aXJlKFwiLi9wbGF5ZXJcIik7XG5jb25zdCB7IGNvbXB1dGVyTGVnYWxBdHRhY2sgfSA9IHJlcXVpcmUoXCIuL2NvbXB1dGVyQWN0aW9uc1wiKTtcblxuY29uc3QgZ2FtZSA9ICgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBwbGF5ZXJPbmVOYW1lOiB1bmRlZmluZWQsXG4gICAgcGxheWVyVHdvTmFtZTogXCJDb21wdXRlclwiLFxuICAgIHBsYXllck9uZTogdW5kZWZpbmVkLFxuICAgIFBsYXllclR3bzogdW5kZWZpbmVkLFxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlbmRlclBsYXllckNyZWF0aW9uRWwoKTtcbiAgICAgIHRoaXMuY2FjaGVEb20oKTtcbiAgICAgIHRoaXMuc3RhcnRFdmVudExpc3RlbmluZygpO1xuICAgIH0sXG4gICAgY2FjaGVEb206IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLWNyZWF0aW9uLWNvbnRhaW5lclwiKTtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyU3VibWl0XCIpO1xuICAgICAgdGhpcy5mb3JtSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllck5hbWVcIik7XG4gICAgfSxcbiAgICBzdGFydEV2ZW50TGlzdGVuaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmZvcm1TdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuZm9ybUlucHV0LnZhbHVlID09PSBcIkNvbXB1dGVyXCIpIHtcbiAgICAgICAgICB3aW5kb3cuYWxlcnQoXG4gICAgICAgICAgICBcIkNvbXB1dGVyIGlzIGEgcmVzZXJ2ZWQgbmFtZSwgcGxlYXNlIGVudGVyIGEgbmV3IG5hbWUgOilcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheWVyT25lTmFtZSA9IHRoaXMuZm9ybUlucHV0LnZhbHVlO1xuICAgICAgICB0aGlzLmZvcm1Db250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuaGFuZGxlR2FtZVNldHVwKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhhbmRsZUdhbWVTZXR1cDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wbGF5ZXJPbmUgPSBwbGF5ZXIodGhpcy5wbGF5ZXJPbmVOYW1lKTtcbiAgICAgIHRoaXMuUGxheWVyVHdvID0gcGxheWVyKHRoaXMucGxheWVyVHdvTmFtZSk7XG4gICAgICB0aGlzLmhhbmRsZVBsb3R0aW5nKCk7XG4gICAgICBnZW5lcmF0ZUdhbWVib2FyZEVsKHRoaXMucGxheWVyT25lKTtcbiAgICAgIGdlbmVyYXRlR2FtZWJvYXJkRWwodGhpcy5QbGF5ZXJUd28pO1xuICAgICAgaGFuZGxlUGxheWVyR3JpZCgpO1xuICAgICAgdGhpcy5zdGFydEF0dGFja0xpc3RlbmluZygpO1xuICAgIH0sXG4gICAgc3RhcnRBdHRhY2tMaXN0ZW5pbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lbmVteS10aWxlXCIpO1xuICAgICAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dGFja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIGxldCBlbmVteVggPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXhcIik7XG4gICAgICAgICAgICBsZXQgZW5lbXlZID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS15XCIpO1xuICAgICAgICAgICAgdGhpcy5QbGF5ZXJUd28uYm9hcmQucmVjZWl2ZUF0dGFjayhlbmVteVgsIGVuZW15WSk7XG4gICAgICAgICAgICBsZXQgY29tcHV0ZXJBdHRhY2sgPSBjb21wdXRlckxlZ2FsQXR0YWNrKHRoaXMucGxheWVyT25lKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyT25lLmJvYXJkLnJlY2VpdmVBdHRhY2soXG4gICAgICAgICAgICAgIGNvbXB1dGVyQXR0YWNrLngsXG4gICAgICAgICAgICAgIGNvbXB1dGVyQXR0YWNrLnlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJPbmVUaWxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGxheWVyLXRpbGVcIik7XG4gICAgICAgICAgICBwbGF5ZXJPbmVUaWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBwbGF5ZXJYID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXhcIik7XG4gICAgICAgICAgICAgIGxldCBwbGF5ZXJZID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXlcIik7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBwbGF5ZXJYID09PSBTdHJpbmcoY29tcHV0ZXJBdHRhY2sueCkgJiZcbiAgICAgICAgICAgICAgICBwbGF5ZXJZID09PSBTdHJpbmcoY29tcHV0ZXJBdHRhY2sueSlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dGFja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYW5kbGVIaXRzQW5kTWlzc2VzKCk7XG4gICAgICAgICAgICBjaGVja0dhbWVPdmVyKHRoaXMucGxheWVyT25lLCB0aGlzLlBsYXllclR3byk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVQbG90dGluZzogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wbGF5ZXJPbmUuYm9hcmQucGxvdEZsZWV0KCk7XG4gICAgICB0aGlzLlBsYXllclR3by5ib2FyZC5wbG90RmxlZXQoKTtcbiAgICB9LFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IGdhbWUgfTtcbiIsImNvbnN0IHsgc2hpcCB9ID0gcmVxdWlyZShcIi4vc2hpcFwiKTtcbmNvbnN0IHsgcmFuZG9tTnVtR2VuIH0gPSByZXF1aXJlKFwiLi9oZWxwZXJzXCIpO1xuXG5jb25zdCBnYW1lYm9hcmQgPSAoKSA9PiB7XG4gIGNvbnN0IHJhbmRvbU51bSA9IHJhbmRvbU51bUdlbigpO1xuICBsZXQgZ3JpZEFyciA9IFtdO1xuXG4gIGNvbnN0IGdlbmVyYXRlR3JpZCA9ICgpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICBncmlkQXJyLnB1c2goe1xuICAgICAgICAgIHg6IGksXG4gICAgICAgICAgeTogaixcbiAgICAgICAgICBzaGlwTmFtZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGF0dGFja2VkOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWRBcnI7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpc0xvc2VyOiBmYWxzZSxcbiAgICBncmlkOiBnZW5lcmF0ZUdyaWQoKSxcbiAgICBtaXNzZWRTaG90czogW10sXG4gICAgaGl0czogW10sXG4gICAgc3Vua1NoaXBzOiBbXSxcbiAgICBteUZsZWV0OiBbXG4gICAgICBzaGlwKFwiQ2FycmllclwiLCByYW5kb21OdW0pLFxuICAgICAgc2hpcChcIkJhdHRsZXNoaXBcIiwgcmFuZG9tTnVtKSxcbiAgICAgIHNoaXAoXCJEZXN0cm95ZXJcIiwgcmFuZG9tTnVtKSxcbiAgICAgIHNoaXAoXCJTdWJtYXJpbmVcIiwgcmFuZG9tTnVtKSxcbiAgICAgIHNoaXAoXCJQYXRyb2wgQm9hdFwiLCByYW5kb21OdW0pLFxuICAgIF0sXG4gICAgcmVjZWl2ZUF0dGFjazogZnVuY3Rpb24gKHhDb29yZCwgeUNvb3JkKSB7XG4gICAgICB0aGlzLmdyaWQuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgIGlmIChvYmoueCA9PSB4Q29vcmQgJiYgb2JqLnkgPT0geUNvb3JkKSB7XG4gICAgICAgICAgb2JqLmF0dGFja2VkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAob2JqLnNoaXBOYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWlzc2VkU2hvdHMucHVzaCh7IHg6IHhDb29yZCwgeTogeUNvb3JkIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9iai5zaGlwTmFtZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiQ2FycmllclwiOlxuICAgICAgICAgICAgICAgIHRoaXMuaGl0cy5wdXNoKHsgeDogeENvb3JkLCB5OiB5Q29vcmQgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5teUZsZWV0WzBdLmhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiQmF0dGxlc2hpcFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuaGl0cy5wdXNoKHsgeDogeENvb3JkLCB5OiB5Q29vcmQgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5teUZsZWV0WzFdLmhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiRGVzdHJveWVyXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2goeyB4OiB4Q29vcmQsIHk6IHlDb29yZCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm15RmxlZXRbMl0uaGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJTdWJtYXJpbmVcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmhpdHMucHVzaCh7IHg6IHhDb29yZCwgeTogeUNvb3JkIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubXlGbGVldFszXS5oaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIlBhdHJvbCBCb2F0XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2goeyB4OiB4Q29vcmQsIHk6IHlDb29yZCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm15RmxlZXRbNF0uaGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5jaGVja1N1bmtTaGlwcygpO1xuICAgIH0sXG4gICAgcGxvdEZsZWV0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgZmxlZXQgPSB0aGlzLm15RmxlZXQ7XG4gICAgICBmbGVldC5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgIGxldCBwbG90cyA9IHNoaXAubG9jYXRpb247XG4gICAgICAgIHBsb3RzLmZvckVhY2goKGNvb3JkKSA9PiB7XG4gICAgICAgICAgdGhpcy5ncmlkLmZvckVhY2goKG9iaikgPT4ge1xuICAgICAgICAgICAgaWYgKG9iai54ID09PSBjb29yZC54ICYmIG9iai55ID09PSBjb29yZC55KSB7XG4gICAgICAgICAgICAgIG9iai5zaGlwTmFtZSA9IHNoaXAubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoZWNrU3Vua1NoaXBzOiBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgZmxlZXQgPSB0aGlzLm15RmxlZXQ7XG4gICAgICBmbGVldC5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgIGlmIChzaGlwLnN1bmsgPT09IHRydWUgJiYgIXRoaXMuc3Vua1NoaXBzLmluY2x1ZGVzKHNoaXAubmFtZSkpIHtcbiAgICAgICAgICB0aGlzLnN1bmtTaGlwcy5wdXNoKFN0cmluZyhzaGlwLm5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnRvZ2dsZUdhbWVPdmVyKCk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUdhbWVPdmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgdHJpZ2dlciA9IHRoaXMuc3Vua1NoaXBzLmxlbmd0aDtcbiAgICAgIGlmICh0cmlnZ2VyID09IDUpIHtcbiAgICAgICAgdGhpcy5pc0xvc2VyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IGdhbWVib2FyZCB9O1xuIiwiZnVuY3Rpb24gcmVtb3ZlTWF0Y2hpbmdPYmplY3RzKGFyck9uZSwgYXJyVHdvKSB7XG4gIHJldHVybiBhcnJPbmUuZmlsdGVyKFxuICAgIChvYmpPbmUpID0+XG4gICAgICAhYXJyVHdvLnNvbWUoKG9ialR3bykgPT4gb2JqT25lLnggPT09IG9ialR3by54ICYmIG9iak9uZS55ID09PSBvYmpUd28ueSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tTnVtR2VuKCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSkgKyAxO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVtb3ZlTWF0Y2hpbmdPYmplY3RzLFxuICByYW5kb21OdW1HZW4sXG59O1xuIiwiY29uc3QgeyBnYW1lYm9hcmQgfSA9IHJlcXVpcmUoXCIuL2dhbWVib2FyZC5qc1wiKTtcblxuY29uc3QgcGxheWVyID0gKG5hbWUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGlzVHVybjogZmFsc2UsXG4gICAgYm9hcmQ6IGdhbWVib2FyZCgpLFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IHBsYXllciB9O1xuIiwiY29uc3QgeyBwbG90TWFwcyB9ID0gcmVxdWlyZShcIi4vc2hpcFBsb3R0aW5nXCIpO1xuXG5jb25zdCBzaGlwID0gKHR5cGUsIHJhbmRvbVNldCkgPT4ge1xuICBjb25zdCBsZW5ndGggPSAodHlwZSkgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcIkNhcnJpZXJcIjpcbiAgICAgICAgcmV0dXJuIE51bWJlcig1KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQmF0dGxlc2hpcFwiOlxuICAgICAgICByZXR1cm4gTnVtYmVyKDQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJEZXN0cm95ZXJcIjpcbiAgICAgICAgcmV0dXJuIE51bWJlcigzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU3VibWFyaW5lXCI6XG4gICAgICAgIHJldHVybiBOdW1iZXIoMyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlBhdHJvbCBCb2F0XCI6XG4gICAgICAgIHJldHVybiBOdW1iZXIoMik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaGlwIHR5cGUgcHJvdmlkZWRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiByYW5kb21QbGFjZW1lbnQoc2hpcFR5cGUsIHNldCkge1xuICAgIHN3aXRjaCAoc2hpcFR5cGUpIHtcbiAgICAgIGNhc2UgXCJDYXJyaWVyXCI6XG4gICAgICAgIHJldHVybiBwbG90TWFwc1tzZXRdWzBdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJCYXR0bGVzaGlwXCI6XG4gICAgICAgIHJldHVybiBwbG90TWFwc1tzZXRdWzFdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJEZXN0cm95ZXJcIjpcbiAgICAgICAgcmV0dXJuIHBsb3RNYXBzW3NldF1bMl07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlN1Ym1hcmluZVwiOlxuICAgICAgICByZXR1cm4gcGxvdE1hcHNbc2V0XVszXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiUGF0cm9sIEJvYXRcIjpcbiAgICAgICAgcmV0dXJuIHBsb3RNYXBzW3NldF1bNF07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZ2VuZXJhdGluZyBjb29yZGluYXRlc1wiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiB0eXBlLFxuICAgIGxlbmd0aDogbGVuZ3RoKHR5cGUpLFxuICAgIGhpdHM6IDAsXG4gICAgc3VuazogZmFsc2UsXG4gICAgbG9jYXRpb246IHJhbmRvbVBsYWNlbWVudCh0eXBlLCByYW5kb21TZXQpLFxuICAgIGhpdDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5oaXRzICs9IDE7XG4gICAgICB0aGlzLmlzU3VuaygpO1xuICAgIH0sXG4gICAgaXNTdW5rOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5oaXRzID09PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnN1bmsgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgc2hpcCB9O1xuIiwiY29uc3QgcGxvdE1hcHMgPSBbXG4gIFtdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IDAsIHk6IDEgfSxcbiAgICAgIHsgeDogMCwgeTogMiB9LFxuICAgICAgeyB4OiAwLCB5OiAzIH0sXG4gICAgICB7IHg6IDAsIHk6IDQgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogMiwgeTogMyB9LFxuICAgICAgeyB4OiAyLCB5OiA0IH0sXG4gICAgICB7IHg6IDIsIHk6IDUgfSxcbiAgICAgIHsgeDogMiwgeTogNiB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA3LCB5OiA1IH0sXG4gICAgICB7IHg6IDcsIHk6IDYgfSxcbiAgICAgIHsgeDogNywgeTogNyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiA3IH0sXG4gICAgICB7IHg6IDQsIHk6IDggfSxcbiAgICAgIHsgeDogNCwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA5LCB5OiA4IH0sXG4gICAgICB7IHg6IDksIHk6IDkgfSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IDAsIHk6IDEgfSxcbiAgICAgIHsgeDogMCwgeTogMiB9LFxuICAgICAgeyB4OiAwLCB5OiAzIH0sXG4gICAgICB7IHg6IDAsIHk6IDQgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNSwgeTogMyB9LFxuICAgICAgeyB4OiA2LCB5OiAzIH0sXG4gICAgICB7IHg6IDcsIHk6IDMgfSxcbiAgICAgIHsgeDogOCwgeTogMyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA3LCB5OiA1IH0sXG4gICAgICB7IHg6IDcsIHk6IDYgfSxcbiAgICAgIHsgeDogNywgeTogNyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiA5IH0sXG4gICAgICB7IHg6IDUsIHk6IDkgfSxcbiAgICAgIHsgeDogNiwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA5LCB5OiA4IH0sXG4gICAgICB7IHg6IDksIHk6IDkgfSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiA3IH0sXG4gICAgICB7IHg6IDEsIHk6IDcgfSxcbiAgICAgIHsgeDogMiwgeTogNyB9LFxuICAgICAgeyB4OiAzLCB5OiA3IH0sXG4gICAgICB7IHg6IDQsIHk6IDcgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNSwgeTogMiB9LFxuICAgICAgeyB4OiA2LCB5OiAyIH0sXG4gICAgICB7IHg6IDcsIHk6IDIgfSxcbiAgICAgIHsgeDogOCwgeTogMiB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA5LCB5OiA1IH0sXG4gICAgICB7IHg6IDksIHk6IDYgfSxcbiAgICAgIHsgeDogOSwgeTogNyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiA5IH0sXG4gICAgICB7IHg6IDUsIHk6IDkgfSxcbiAgICAgIHsgeDogNiwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiAxLCB5OiAxIH0sXG4gICAgICB7IHg6IDEsIHk6IDIgfSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IDAsIHk6IDEgfSxcbiAgICAgIHsgeDogMCwgeTogMiB9LFxuICAgICAgeyB4OiAwLCB5OiAzIH0sXG4gICAgICB7IHg6IDAsIHk6IDQgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNSwgeTogMyB9LFxuICAgICAgeyB4OiA2LCB5OiAzIH0sXG4gICAgICB7IHg6IDcsIHk6IDMgfSxcbiAgICAgIHsgeDogOCwgeTogMyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA3LCB5OiA1IH0sXG4gICAgICB7IHg6IDcsIHk6IDYgfSxcbiAgICAgIHsgeDogNywgeTogNyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiA5IH0sXG4gICAgICB7IHg6IDUsIHk6IDkgfSxcbiAgICAgIHsgeDogNiwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA5LCB5OiA4IH0sXG4gICAgICB7IHg6IDksIHk6IDkgfSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiA4LCB5OiA0IH0sXG4gICAgICB7IHg6IDgsIHk6IDUgfSxcbiAgICAgIHsgeDogOCwgeTogNiB9LFxuICAgICAgeyB4OiA4LCB5OiA3IH0sXG4gICAgICB7IHg6IDgsIHk6IDggfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogMSwgeTogMiB9LFxuICAgICAgeyB4OiAxLCB5OiAzIH0sXG4gICAgICB7IHg6IDEsIHk6IDQgfSxcbiAgICAgIHsgeDogMSwgeTogNSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiA5IH0sXG4gICAgICB7IHg6IDEsIHk6IDkgfSxcbiAgICAgIHsgeDogMiwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA3LCB5OiAyIH0sXG4gICAgICB7IHg6IDgsIHk6IDIgfSxcbiAgICAgIHsgeDogOSwgeTogMiB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiAzIH0sXG4gICAgICB7IHg6IDQsIHk6IDQgfSxcbiAgICBdLFxuICBdLFxuXTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IHBsb3RNYXBzIH07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiY29uc3QgeyBnYW1lIH0gPSByZXF1aXJlKFwiLi9nYW1lTG9naWNcIik7XG5cbmNvbnN0IG5ld0dhbWUgPSBnYW1lKCk7XG5uZXdHYW1lLmluaXQoKTtcbiJdLCJuYW1lcyI6WyJyZW1vdmVNYXRjaGluZ09iamVjdHMiLCJtb2R1bGUiLCJleHBvcnRzIiwiY29tcHV0ZXJMZWdhbEF0dGFjayIsInBsYXllciIsImlsbGVnYWxNb3ZlcyIsImF0dGFja09wdGlvbnMiLCJpIiwiaiIsInB1c2giLCJ4IiwieSIsImJvYXJkIiwibWlzc2VkU2hvdHMiLCJmb3JFYWNoIiwib2JqIiwiaGl0cyIsImxlZ2FsQXR0YWNrcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsImdhbWUiLCJyZW5kZXJHYW1lT3ZlckhUTUwiLCJnaWZVcmwiLCJoZWFkZXIiLCJzdGF0dXMiLCJtZXNzYWdlIiwibWFpbkNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGFibGUiLCJyZW1vdmUiLCJnYW1lT3ZlckNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJnYW1lT3ZlckhlYWRlciIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJnYW1lT3ZlckdpZiIsImdhbWVPdmVyTWVzc2FnZSIsInBsYXlBZ2FpbkJ0biIsImlubmVyVGV4dCIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwicmVuZGVyUGxheWVyQ3JlYXRpb25FbCIsImNvbnRhaW5lckVsIiwib3ZlcnZpZXdUZXh0IiwiZm9ybUVsIiwiaW5wdXRFbCIsInJlcXVpcmVkIiwiYnRuRWwiLCJnZW5lcmF0ZUdhbWVib2FyZEVsIiwiZGF0YUFycmF5IiwiZ3JpZCIsIm1haW5Db250YWluZXIiLCJ0YWJsZUNvbnRhaW5lciIsInBsYXllckhlYWRpbmciLCJuYW1lIiwicm93IiwiZGF0YUluZGV4IiwiY2VsbCIsImF0dGFja2VkIiwic2hpcE5hbWUiLCJoYW5kbGVIaXRzQW5kTWlzc2VzIiwidGlsZSIsImdldEF0dHJpYnV0ZSIsImhhbmRsZVBsYXllckdyaWQiLCJjaGVja0dhbWVPdmVyIiwicGxheWVyT25lIiwicGxheWVyVHdvIiwicHJvcE9uZSIsInByb3BUd28iLCJwcm9wVGhyZWUiLCJwcm9wRm91ciIsImlzTG9zZXIiLCJwbGF5ZXJPbmVOYW1lIiwidW5kZWZpbmVkIiwicGxheWVyVHdvTmFtZSIsIlBsYXllclR3byIsImluaXQiLCJ0aGlzIiwiY2FjaGVEb20iLCJzdGFydEV2ZW50TGlzdGVuaW5nIiwiZm9ybUNvbnRhaW5lciIsImZvcm1TdWJtaXRCdG4iLCJmb3JtSW5wdXQiLCJ2YWx1ZSIsImhhbmRsZUdhbWVTZXR1cCIsImFsZXJ0IiwiaGFuZGxlUGxvdHRpbmciLCJzdGFydEF0dGFja0xpc3RlbmluZyIsInRhcmdldCIsImVuZW15WCIsImVuZW15WSIsInJlY2VpdmVBdHRhY2siLCJjb21wdXRlckF0dGFjayIsInBsYXllclgiLCJwbGF5ZXJZIiwiU3RyaW5nIiwib25jZSIsInBsb3RGbGVldCIsInNoaXAiLCJyYW5kb21OdW1HZW4iLCJnYW1lYm9hcmQiLCJyYW5kb21OdW0iLCJncmlkQXJyIiwiZ2VuZXJhdGVHcmlkIiwic3Vua1NoaXBzIiwibXlGbGVldCIsInhDb29yZCIsInlDb29yZCIsImhpdCIsImNoZWNrU3Vua1NoaXBzIiwiY29vcmQiLCJzdW5rIiwiaW5jbHVkZXMiLCJ0b2dnbGVHYW1lT3ZlciIsImFyck9uZSIsImFyclR3byIsImZpbHRlciIsIm9iak9uZSIsInNvbWUiLCJvYmpUd28iLCJpc1R1cm4iLCJwbG90TWFwcyIsInR5cGUiLCJyYW5kb21TZXQiLCJOdW1iZXIiLCJFcnJvciIsInNoaXBUeXBlIiwic2V0IiwicmFuZG9tUGxhY2VtZW50IiwiaXNTdW5rIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=