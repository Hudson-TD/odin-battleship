(()=>{var e={496:(e,t,a)=>{const{removeMatchingObjects:r}=a(225);e.exports={computerLegalAttack:function(e){let t=[],a=[];for(let e=0;e<10;e++)for(let t=0;t<10;t++)a.push({x:e,y:t});e.board.missedShots.forEach((e=>{t.push(e)})),e.board.hits.forEach((e=>{t.push(e)}));let n=r(a,t),i=n[Math.floor(Math.random()*n.length)];return console.log(`Random attack: ${i}`),i}}},817:(e,t,a)=>{const{game:r}=a(404);function n(e,t,a,r){const n=document.querySelector(".main-content-container");document.querySelectorAll(".table-container").forEach((e=>e.remove()));const i=document.createElement("div");i.classList.add("game-over-container");const s=document.createElement("h1");s.classList.add("game-over-header"),s.setAttribute("id",`${a}`),s.textContent=t,i.appendChild(s);const o=document.createElement("img");o.classList.add("game-over-img"),o.setAttribute("src",e),i.appendChild(o);const l=document.createElement("p");l.classList.add("game-over-message"),l.textContent=`${r}`,i.appendChild(l);const c=document.createElement("button");c.setAttribute("id","playAgainBtn"),c.innerText="Play Again",i.appendChild(c),n.appendChild(i),document.getElementById("playAgainBtn").addEventListener("click",(e=>{e.preventDefault(),window.location.reload()}))}e.exports={renderPlayerCreationEl:function(){const e=document.querySelector(".main-content-container");let t=document.createElement("div");t.classList.add("player-creation-container");let a=document.createElement("p");a.innerText="You are about to enter unfamiliar waters in an effort to neutralize enemy ships. Due to thick fog our strategy is simple, fire artillery and observe any contact. Intel suggests the enemy fleet contains 5 ships of varying sizes...\n  \n  Instructions:\n  \n  Using arial reconnaissance, order fire on mapped coordinates. Hits will reflect red, while misses will be blue. We are counting on you.";let r=document.createElement("form");r.setAttribute("name","player-creation-form"),r.setAttribute("class","player-creation-form");let n=document.createElement("input");n.setAttribute("id","playerName"),n.setAttribute("type","text"),n.setAttribute("min","1"),n.required=!0,n.setAttribute("max","25"),n.setAttribute("placeholder","Player Name");let i=document.createElement("button");i.setAttribute("id","playerSubmit"),i.setAttribute("type","submit"),i.setAttribute("for","player-creation-form"),i.innerText="Launch Fleet",t.appendChild(r),r.appendChild(a),r.appendChild(n),r.appendChild(i),e.appendChild(t)},generateGameboardEl:function(e){const t=[...e.board.grid],a=document.querySelector(".main-content-container"),r=document.createElement("div");r.setAttribute("class","table-container");const n=document.createElement("table");n.setAttribute("class","gameboard-table");const i=document.createElement("th");i.innerText=`${e.name}'s Fleet`,r.appendChild(i);for(let a=0;a<10;a++){const r=document.createElement("tr");r.setAttribute("class","gameboard-row");for(let n=0;n<10;n++){const i=10*a+n;if(i<t.length){const a=document.createElement("td");r.appendChild(a),a.setAttribute("data-x",`${t[i].x}`),a.setAttribute("data-y",`${t[i].y}`),a.setAttribute("data-attacked",`${t[i].attacked}`),a.setAttribute("data-ship",`${t[i].shipName}`),a.setAttribute("class","gameboard-tile"),"Computer"===e.name?a.classList.add("enemy-tile"):"Computer"!==e.name&&a.classList.add("player-tile")}}n.appendChild(r)}r.appendChild(n),a.appendChild(r)},handleHitsAndMisses:function(){document.querySelectorAll(".gameboard-tile").forEach((e=>{let t=e.getAttribute("data-attacked"),a=e.getAttribute("data-ship");"true"===t&&"undefined"===a&&(e.classList.remove("enemy-tile"),e.classList.add("missed")),"true"===t&&"undefined"!==a&&(e.classList.remove("enemy-tile"),e.classList.add("hit"))}))},handlePlayerGrid:function(){document.querySelectorAll(".player-tile").forEach((e=>{"undefined"!==e.getAttribute("data-ship")&&e.classList.add("occupied")}))},checkGameOver:function(e,t){let a,r,i,s;!0===t.board.isLoser?(a="https://media.giphy.com/media/3o85xDZyvJPHLfgKXK/giphy.gif",r="You Win",i="winner",s="Operation successful, enemy fleet has been eliminated!",n(a,r,i,s)):!0===e.board.isLoser&&(a="https://media.giphy.com/media/3o6Ztn38eCMwTQIcs8/giphy.gif",r="You Lose",i="loser",s="War....war never changes...",n(a,r,i,s))}}},404:(e,t,a)=>{const{renderPlayerCreationEl:r,generateGameboardEl:n,handleHitsAndMisses:i,handlePlayerGrid:s,checkGameOver:o}=a(817),{player:l}=a(507),{computerLegalAttack:c}=a(496);e.exports={game:()=>({playerOneName:void 0,playerTwoName:"Computer",playerOne:void 0,PlayerTwo:void 0,init:function(){r(),this.cacheDom(),this.startEventListening()},cacheDom:function(){this.formContainer=document.querySelector(".player-creation-container"),this.formSubmitBtn=document.getElementById("playerSubmit"),this.formInput=document.getElementById("playerName")},startEventListening:function(){this.formSubmitBtn.addEventListener("click",(e=>{e.preventDefault(),this.playerOneName=this.formInput.value,this.formContainer.remove(),this.handleGameSetup()}))},handleGameSetup:function(){this.playerOne=l(this.playerOneName),this.PlayerTwo=l(this.playerTwoName),this.handlePlotting(),n(this.playerOne),n(this.PlayerTwo),s(),this.startAttackListening()},startAttackListening:function(){document.querySelectorAll(".enemy-tile").forEach((e=>{e.addEventListener("click",(e=>{e.target.setAttribute("data-attacked","true");let t=e.target.getAttribute("data-x"),a=e.target.getAttribute("data-y");this.PlayerTwo.board.receiveAttack(t,a);let r=c(this.playerOne);this.playerOne.board.receiveAttack(r.x,r.y),document.querySelectorAll(".player-tile").forEach((e=>{let t=e.getAttribute("data-x"),a=e.getAttribute("data-y");t===String(r.x)&&a===String(r.y)&&e.setAttribute("data-attacked","true")})),i(),o(this.playerOne,this.PlayerTwo)}),{once:!0})}))},handlePlotting:function(){this.playerOne.board.plotFleet(),this.PlayerTwo.board.plotFleet()}})}},498:(e,t,a)=>{const{ship:r}=a(643),{randomNumGen:n}=a(225);e.exports={gameboard:()=>{const e=n();let t=[];return{isLoser:!1,grid:(()=>{for(let e=0;e<10;e++)for(let a=0;a<10;a++)t.push({x:e,y:a,shipName:void 0,attacked:!1});return t})(),missedShots:[],hits:[],sunkShips:[],myFleet:[r("Carrier",e),r("Battleship",e),r("Destroyer",e),r("Submarine",e),r("Patrol Boat",e)],receiveAttack:function(e,t){console.log(`Hit logged at ${e},${t}`),this.grid.forEach((a=>{if(a.x==e&&a.y==t)if(a.attacked=!0,void 0===a.shipName)this.missedShots.push({x:e,y:t});else switch(a.shipName){case"Carrier":this.hits.push({x:e,y:t}),this.myFleet[0].hit();break;case"Battleship":this.hits.push({x:e,y:t}),this.myFleet[1].hit();break;case"Destroyer":this.hits.push({x:e,y:t}),this.myFleet[2].hit();break;case"Submarine":this.hits.push({x:e,y:t}),this.myFleet[3].hit();break;case"Patrol Boat":this.hits.push({x:e,y:t}),this.myFleet[4].hit()}})),this.checkSunkShips()},plotFleet:function(){this.myFleet.forEach((e=>{e.location.forEach((t=>{this.grid.forEach((a=>{a.x===t.x&&a.y===t.y&&(a.shipName=e.name)}))}))}))},checkSunkShips:function(){this.myFleet.forEach((e=>{!0!==e.sunk||this.sunkShips.includes(e.name)||this.sunkShips.push(String(e.name))})),this.toggleGameOver()},toggleGameOver:function(){5==this.sunkShips.length&&(this.isLoser=!0)}}}}},225:e=>{e.exports={removeMatchingObjects:function(e,t){return e.filter((e=>!t.some((t=>e.x===t.x&&e.y===t.y))))},randomNumGen:function(){return Math.floor(5*Math.random())+1}}},507:(e,t,a)=>{const{gameboard:r}=a(498);e.exports={player:e=>({name:e,isTurn:!1,board:r()})}},643:(e,t,a)=>{const{plotMaps:r}=a(471);e.exports={ship:(e,t)=>({name:e,length:(e=>{switch(e){case"Carrier":return Number(5);case"Battleship":return Number(4);case"Destroyer":case"Submarine":return Number(3);case"Patrol Boat":return Number(2);default:throw new Error("Invalid ship type provided")}})(e),hits:0,sunk:!1,location:function(e,t){switch(e){case"Carrier":return r[t][0];case"Battleship":return r[t][1];case"Destroyer":return r[t][2];case"Submarine":return r[t][3];case"Patrol Boat":return r[t][4];default:throw new Error("Error generating coordinates")}}(e,t),hit:function(){this.hits+=1,console.log("Hit detected!"),this.isSunk()},isSunk:function(){this.hits===this.length&&(this.sunk=!0,console.log(`${this.name} has been sunk`))}})}},471:e=>{e.exports={plotMaps:[[],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:2,y:3},{x:2,y:4},{x:2,y:5},{x:2,y:6}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:7},{x:4,y:8},{x:4,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:5,y:3},{x:6,y:3},{x:7,y:3},{x:8,y:3}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:0,y:7},{x:1,y:7},{x:2,y:7},{x:3,y:7},{x:4,y:7}],[{x:5,y:2},{x:6,y:2},{x:7,y:2},{x:8,y:2}],[{x:9,y:5},{x:9,y:6},{x:9,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:1,y:1},{x:1,y:2}]],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:5,y:3},{x:6,y:3},{x:7,y:3},{x:8,y:3}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:8,y:4},{x:8,y:5},{x:8,y:6},{x:8,y:7},{x:8,y:8}],[{x:1,y:2},{x:1,y:3},{x:1,y:4},{x:1,y:5}],[{x:0,y:9},{x:1,y:9},{x:2,y:9}],[{x:7,y:2},{x:8,y:2},{x:9,y:2}],[{x:4,y:3},{x:4,y:4}]]]}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}(()=>{const{game:e}=a(404);e().init()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxLQUdmLENBQ0UsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxLQUdmLENBQ0UsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxLQUdmLENBQ0UsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxNLEdDL0licUksRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCMUQsSUFBakIyRCxFQUNILE9BQU9BLEVBQWFqSixRQUdyQixJQUFJRCxFQUFTK0ksRUFBeUJFLEdBQVksQ0FHakRoSixRQUFTLENBQUMsR0FPWCxPQUhBa0osRUFBb0JGLEdBQVVqSixFQUFRQSxFQUFPQyxRQUFTK0ksR0FHL0NoSixFQUFPQyxPQUNmLEMsTUN0QkEsTUFBTSxLQUFFdUIsR0FBUyxFQUFRLEtBRVRBLElBQ1JrRSxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2NvbXB1dGVyQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZG9tQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZUxvZ2ljLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc2hpcFBsb3R0aW5nLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyByZW1vdmVNYXRjaGluZ09iamVjdHMgfSA9IHJlcXVpcmUoXCIuL2hlbHBlcnNcIik7XG5cbmZ1bmN0aW9uIGNvbXB1dGVyTGVnYWxBdHRhY2socGxheWVyKSB7XG4gIGxldCBpbGxlZ2FsTW92ZXMgPSBbXTtcbiAgbGV0IGF0dGFja09wdGlvbnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICBhdHRhY2tPcHRpb25zLnB1c2goe1xuICAgICAgICB4OiBpLFxuICAgICAgICB5OiBqLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcGxheWVyLmJvYXJkLm1pc3NlZFNob3RzLmZvckVhY2goKG9iaikgPT4ge1xuICAgIGlsbGVnYWxNb3Zlcy5wdXNoKG9iaik7XG4gIH0pO1xuXG4gIHBsYXllci5ib2FyZC5oaXRzLmZvckVhY2goKG9iaikgPT4ge1xuICAgIGlsbGVnYWxNb3Zlcy5wdXNoKG9iaik7XG4gIH0pO1xuXG4gIGxldCBsZWdhbEF0dGFja3MgPSByZW1vdmVNYXRjaGluZ09iamVjdHMoYXR0YWNrT3B0aW9ucywgaWxsZWdhbE1vdmVzKTtcblxuICBsZXQgcmFuZG9tTGVnYWxBdHRhY2sgPVxuICAgIGxlZ2FsQXR0YWNrc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZWdhbEF0dGFja3MubGVuZ3RoKV07XG5cbiAgY29uc29sZS5sb2coYFJhbmRvbSBhdHRhY2s6ICR7cmFuZG9tTGVnYWxBdHRhY2t9YCk7XG4gIHJldHVybiByYW5kb21MZWdhbEF0dGFjaztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGNvbXB1dGVyTGVnYWxBdHRhY2sgfTtcbiIsImNvbnN0IHsgZ2FtZSB9ID0gcmVxdWlyZShcIi4vZ2FtZUxvZ2ljXCIpO1xuXG5mdW5jdGlvbiByZW5kZXJQbGF5ZXJDcmVhdGlvbkVsKCkge1xuICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250ZW50LWNvbnRhaW5lclwiKTtcbiAgbGV0IGNvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZChcInBsYXllci1jcmVhdGlvbi1jb250YWluZXJcIik7XG5cbiAgbGV0IG92ZXJ2aWV3VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXG4gIG92ZXJ2aWV3VGV4dC5pbm5lclRleHQgPSBgWW91IGFyZSBhYm91dCB0byBlbnRlciB1bmZhbWlsaWFyIHdhdGVycyBpbiBhbiBlZmZvcnQgdG8gbmV1dHJhbGl6ZSBlbmVteSBzaGlwcy4gRHVlIHRvIHRoaWNrIGZvZyBvdXIgc3RyYXRlZ3kgaXMgc2ltcGxlLCBmaXJlIGFydGlsbGVyeSBhbmQgb2JzZXJ2ZSBhbnkgY29udGFjdC4gSW50ZWwgc3VnZ2VzdHMgdGhlIGVuZW15IGZsZWV0IGNvbnRhaW5zIDUgc2hpcHMgb2YgdmFyeWluZyBzaXplcy4uLlxuICBcbiAgSW5zdHJ1Y3Rpb25zOlxuICBcbiAgVXNpbmcgYXJpYWwgcmVjb25uYWlzc2FuY2UsIG9yZGVyIGZpcmUgb24gbWFwcGVkIGNvb3JkaW5hdGVzLiBIaXRzIHdpbGwgcmVmbGVjdCByZWQsIHdoaWxlIG1pc3NlcyB3aWxsIGJlIGJsdWUuIFdlIGFyZSBjb3VudGluZyBvbiB5b3UuYDtcblxuICBsZXQgZm9ybUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gIGZvcm1FbC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwicGxheWVyLWNyZWF0aW9uLWZvcm1cIik7XG4gIGZvcm1FbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBsYXllci1jcmVhdGlvbi1mb3JtXCIpO1xuXG4gIGxldCBpbnB1dEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBpbnB1dEVsLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheWVyTmFtZVwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJtaW5cIiwgXCIxXCIpO1xuICBpbnB1dEVsLnJlcXVpcmVkID0gdHJ1ZTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJtYXhcIiwgXCIyNVwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlBsYXllciBOYW1lXCIpO1xuXG4gIGxldCBidG5FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ0bkVsLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheWVyU3VibWl0XCIpO1xuICBidG5FbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICBidG5FbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJwbGF5ZXItY3JlYXRpb24tZm9ybVwiKTtcbiAgYnRuRWwuaW5uZXJUZXh0ID0gXCJMYXVuY2ggRmxlZXRcIjtcblxuICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChmb3JtRWwpO1xuICBmb3JtRWwuYXBwZW5kQ2hpbGQob3ZlcnZpZXdUZXh0KTtcbiAgZm9ybUVsLmFwcGVuZENoaWxkKGlucHV0RWwpO1xuICBmb3JtRWwuYXBwZW5kQ2hpbGQoYnRuRWwpO1xuICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChjb250YWluZXJFbCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlR2FtZWJvYXJkRWwocGxheWVyKSB7XG4gIGNvbnN0IGRhdGFBcnJheSA9IFsuLi5wbGF5ZXIuYm9hcmQuZ3JpZF07XG4gIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGVudC1jb250YWluZXJcIik7XG4gIGNvbnN0IHRhYmxlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGFibGVDb250YWluZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0YWJsZS1jb250YWluZXJcIik7XG4gIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuICB0YWJsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImdhbWVib2FyZC10YWJsZVwiKTtcbiAgY29uc3QgcGxheWVySGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcbiAgcGxheWVySGVhZGluZy5pbm5lclRleHQgPSBgJHtwbGF5ZXIubmFtZX0ncyBGbGVldGA7XG4gIHRhYmxlQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXllckhlYWRpbmcpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICByb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJnYW1lYm9hcmQtcm93XCIpO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICBjb25zdCBkYXRhSW5kZXggPSBpICogMTAgKyBqO1xuXG4gICAgICBpZiAoZGF0YUluZGV4IDwgZGF0YUFycmF5Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS14XCIsIGAke2RhdGFBcnJheVtkYXRhSW5kZXhdLnh9YCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS15XCIsIGAke2RhdGFBcnJheVtkYXRhSW5kZXhdLnl9YCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1hdHRhY2tlZFwiLCBgJHtkYXRhQXJyYXlbZGF0YUluZGV4XS5hdHRhY2tlZH1gKTtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNoaXBcIiwgYCR7ZGF0YUFycmF5W2RhdGFJbmRleF0uc2hpcE5hbWV9YCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJnYW1lYm9hcmQtdGlsZVwiKTtcbiAgICAgICAgLy8gT25seSBhZGQgZXZlbnQgbGlzdGVuZXJzIHRvIGVuZW15IGdhbWVib2FyZFxuICAgICAgICBpZiAocGxheWVyLm5hbWUgPT09IFwiQ29tcHV0ZXJcIikge1xuICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImVuZW15LXRpbGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAocGxheWVyLm5hbWUgIT09IFwiQ29tcHV0ZXJcIikge1xuICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcInBsYXllci10aWxlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRhYmxlLmFwcGVuZENoaWxkKHJvdyk7XG4gIH1cbiAgdGFibGVDb250YWluZXIuYXBwZW5kQ2hpbGQodGFibGUpO1xuICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlQ29udGFpbmVyKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlSGl0c0FuZE1pc3NlcygpIHtcbiAgY29uc3QgYWxsR3JpZEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYW1lYm9hcmQtdGlsZVwiKTtcbiAgYWxsR3JpZEl0ZW1zLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICBsZXQgc3RhdHVzID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dGFja2VkXCIpO1xuICAgIGxldCBuYW1lID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNoaXBcIik7XG4gICAgaWYgKHN0YXR1cyA9PT0gXCJ0cnVlXCIgJiYgbmFtZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGlsZS5jbGFzc0xpc3QucmVtb3ZlKFwiZW5lbXktdGlsZVwiKTtcbiAgICAgIHRpbGUuY2xhc3NMaXN0LmFkZChcIm1pc3NlZFwiKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSBcInRydWVcIiAmJiBuYW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJlbmVteS10aWxlXCIpO1xuICAgICAgdGlsZS5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBsYXllckdyaWQoKSB7XG4gIGNvbnN0IGFsbFBsYXllclRpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBsYXllci10aWxlXCIpO1xuICBhbGxQbGF5ZXJUaWVzLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICBsZXQgbmFtZSA9IHRpbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zaGlwXCIpO1xuICAgIGlmIChuYW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aWxlLmNsYXNzTGlzdC5hZGQoXCJvY2N1cGllZFwiKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjaGVja0dhbWVPdmVyKHBsYXllck9uZSwgcGxheWVyVHdvKSB7XG4gIGxldCBwcm9wT25lID0gdW5kZWZpbmVkO1xuICBsZXQgcHJvcFR3byA9IHVuZGVmaW5lZDtcbiAgbGV0IHByb3BUaHJlZSA9IHVuZGVmaW5lZDtcbiAgbGV0IHByb3BGb3VyID0gdW5kZWZpbmVkO1xuXG4gIGlmIChwbGF5ZXJUd28uYm9hcmQuaXNMb3NlciA9PT0gdHJ1ZSkge1xuICAgIHByb3BPbmUgPSBcImh0dHBzOi8vbWVkaWEuZ2lwaHkuY29tL21lZGlhLzNvODV4RFp5dkpQSExmZ0tYSy9naXBoeS5naWZcIjtcbiAgICBwcm9wVHdvID0gXCJZb3UgV2luXCI7XG4gICAgcHJvcFRocmVlID0gXCJ3aW5uZXJcIjtcbiAgICBwcm9wRm91ciA9IFwiT3BlcmF0aW9uIHN1Y2Nlc3NmdWwsIGVuZW15IGZsZWV0IGhhcyBiZWVuIGVsaW1pbmF0ZWQhXCI7XG4gICAgcmVuZGVyR2FtZU92ZXJIVE1MKHByb3BPbmUsIHByb3BUd28sIHByb3BUaHJlZSwgcHJvcEZvdXIpO1xuICB9IGVsc2UgaWYgKHBsYXllck9uZS5ib2FyZC5pc0xvc2VyID09PSB0cnVlKSB7XG4gICAgcHJvcE9uZSA9IFwiaHR0cHM6Ly9tZWRpYS5naXBoeS5jb20vbWVkaWEvM282WnRuMzhlQ013VFFJY3M4L2dpcGh5LmdpZlwiO1xuICAgIHByb3BUd28gPSBcIllvdSBMb3NlXCI7XG4gICAgcHJvcFRocmVlID0gXCJsb3NlclwiO1xuICAgIHByb3BGb3VyID0gXCJXYXIuLi4ud2FyIG5ldmVyIGNoYW5nZXMuLi5cIjtcbiAgICByZW5kZXJHYW1lT3ZlckhUTUwocHJvcE9uZSwgcHJvcFR3bywgcHJvcFRocmVlLCBwcm9wRm91cik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyR2FtZU92ZXJIVE1MKGdpZlVybCwgaGVhZGVyLCBzdGF0dXMsIG1lc3NhZ2UpIHtcbiAgY29uc3QgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGVudC1jb250YWluZXJcIik7XG4gIGxldCB0YWJsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYmxlLWNvbnRhaW5lclwiKTtcbiAgdGFibGVzLmZvckVhY2goKHRhYmxlKSA9PiB0YWJsZS5yZW1vdmUoKSk7XG5cbiAgY29uc3QgZ2FtZU92ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBnYW1lT3ZlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ2FtZS1vdmVyLWNvbnRhaW5lclwiKTtcblxuICBjb25zdCBnYW1lT3ZlckhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgZ2FtZU92ZXJIZWFkZXIuY2xhc3NMaXN0LmFkZChcImdhbWUtb3Zlci1oZWFkZXJcIik7XG4gIGdhbWVPdmVySGVhZGVyLnNldEF0dHJpYnV0ZShcImlkXCIsIGAke3N0YXR1c31gKTtcbiAgZ2FtZU92ZXJIZWFkZXIudGV4dENvbnRlbnQgPSBoZWFkZXI7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVPdmVySGVhZGVyKTtcblxuICBjb25zdCBnYW1lT3ZlckdpZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gIGdhbWVPdmVyR2lmLmNsYXNzTGlzdC5hZGQoXCJnYW1lLW92ZXItaW1nXCIpO1xuICBnYW1lT3ZlckdpZi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgZ2lmVXJsKTtcbiAgZ2FtZU92ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZ2FtZU92ZXJHaWYpO1xuXG4gIGNvbnN0IGdhbWVPdmVyTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBnYW1lT3Zlck1lc3NhZ2UuY2xhc3NMaXN0LmFkZChcImdhbWUtb3Zlci1tZXNzYWdlXCIpO1xuICBnYW1lT3Zlck1lc3NhZ2UudGV4dENvbnRlbnQgPSBgJHttZXNzYWdlfWA7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVPdmVyTWVzc2FnZSk7XG5cbiAgY29uc3QgcGxheUFnYWluQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgcGxheUFnYWluQnRuLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheUFnYWluQnRuXCIpO1xuICBwbGF5QWdhaW5CdG4uaW5uZXJUZXh0ID0gXCJQbGF5IEFnYWluXCI7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXlBZ2FpbkJ0bik7XG5cbiAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoZ2FtZU92ZXJDb250YWluZXIpO1xuICBsaXN0ZW5Gb3JQbGF5QWdhaW4oKTtcbn1cblxuZnVuY3Rpb24gbGlzdGVuRm9yUGxheUFnYWluKCkge1xuICBjb25zdCBwbGF5QWdhaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlBZ2FpbkJ0blwiKTtcbiAgcGxheUFnYWluLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVuZGVyUGxheWVyQ3JlYXRpb25FbCxcbiAgZ2VuZXJhdGVHYW1lYm9hcmRFbCxcbiAgaGFuZGxlSGl0c0FuZE1pc3NlcyxcbiAgaGFuZGxlUGxheWVyR3JpZCxcbiAgY2hlY2tHYW1lT3Zlcixcbn07XG4iLCJjb25zdCB7XG4gIHJlbmRlclBsYXllckNyZWF0aW9uRWwsXG4gIGdlbmVyYXRlR2FtZWJvYXJkRWwsXG4gIGhhbmRsZUhpdHNBbmRNaXNzZXMsXG4gIGhhbmRsZVBsYXllckdyaWQsXG4gIGNoZWNrR2FtZU92ZXIsXG59ID0gcmVxdWlyZShcIi4vZG9tQ29udHJvbGxlclwiKTtcbmNvbnN0IHsgcGxheWVyIH0gPSByZXF1aXJlKFwiLi9wbGF5ZXJcIik7XG5jb25zdCB7IGNvbXB1dGVyTGVnYWxBdHRhY2sgfSA9IHJlcXVpcmUoXCIuL2NvbXB1dGVyQWN0aW9uc1wiKTtcblxuY29uc3QgZ2FtZSA9ICgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBwbGF5ZXJPbmVOYW1lOiB1bmRlZmluZWQsXG4gICAgcGxheWVyVHdvTmFtZTogXCJDb21wdXRlclwiLFxuICAgIHBsYXllck9uZTogdW5kZWZpbmVkLFxuICAgIFBsYXllclR3bzogdW5kZWZpbmVkLFxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlbmRlclBsYXllckNyZWF0aW9uRWwoKTtcbiAgICAgIHRoaXMuY2FjaGVEb20oKTtcbiAgICAgIHRoaXMuc3RhcnRFdmVudExpc3RlbmluZygpO1xuICAgIH0sXG4gICAgY2FjaGVEb206IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLWNyZWF0aW9uLWNvbnRhaW5lclwiKTtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyU3VibWl0XCIpO1xuICAgICAgdGhpcy5mb3JtSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllck5hbWVcIik7XG4gICAgfSxcbiAgICBzdGFydEV2ZW50TGlzdGVuaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmZvcm1TdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJPbmVOYW1lID0gdGhpcy5mb3JtSW5wdXQudmFsdWU7XG4gICAgICAgIHRoaXMuZm9ybUNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVHYW1lU2V0dXAoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaGFuZGxlR2FtZVNldHVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnBsYXllck9uZSA9IHBsYXllcih0aGlzLnBsYXllck9uZU5hbWUpO1xuICAgICAgdGhpcy5QbGF5ZXJUd28gPSBwbGF5ZXIodGhpcy5wbGF5ZXJUd29OYW1lKTtcbiAgICAgIHRoaXMuaGFuZGxlUGxvdHRpbmcoKTtcbiAgICAgIGdlbmVyYXRlR2FtZWJvYXJkRWwodGhpcy5wbGF5ZXJPbmUpO1xuICAgICAgZ2VuZXJhdGVHYW1lYm9hcmRFbCh0aGlzLlBsYXllclR3byk7XG4gICAgICBoYW5kbGVQbGF5ZXJHcmlkKCk7XG4gICAgICB0aGlzLnN0YXJ0QXR0YWNrTGlzdGVuaW5nKCk7XG4gICAgfSxcbiAgICBzdGFydEF0dGFja0xpc3RlbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmVuZW15LXRpbGVcIik7XG4gICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZShcImRhdGEtYXR0YWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgbGV0IGVuZW15WCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEteFwiKTtcbiAgICAgICAgICAgIGxldCBlbmVteVkgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXlcIik7XG4gICAgICAgICAgICB0aGlzLlBsYXllclR3by5ib2FyZC5yZWNlaXZlQXR0YWNrKGVuZW15WCwgZW5lbXlZKTtcbiAgICAgICAgICAgIGxldCBjb21wdXRlckF0dGFjayA9IGNvbXB1dGVyTGVnYWxBdHRhY2sodGhpcy5wbGF5ZXJPbmUpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJPbmUuYm9hcmQucmVjZWl2ZUF0dGFjayhcbiAgICAgICAgICAgICAgY29tcHV0ZXJBdHRhY2sueCxcbiAgICAgICAgICAgICAgY29tcHV0ZXJBdHRhY2sueVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllck9uZVRpbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wbGF5ZXItdGlsZVwiKTtcbiAgICAgICAgICAgIHBsYXllck9uZVRpbGVzLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICAgICAgICAgICAgbGV0IHBsYXllclggPSB0aWxlLmdldEF0dHJpYnV0ZShcImRhdGEteFwiKTtcbiAgICAgICAgICAgICAgbGV0IHBsYXllclkgPSB0aWxlLmdldEF0dHJpYnV0ZShcImRhdGEteVwiKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHBsYXllclggPT09IFN0cmluZyhjb21wdXRlckF0dGFjay54KSAmJlxuICAgICAgICAgICAgICAgIHBsYXllclkgPT09IFN0cmluZyhjb21wdXRlckF0dGFjay55KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aWxlLnNldEF0dHJpYnV0ZShcImRhdGEtYXR0YWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhbmRsZUhpdHNBbmRNaXNzZXMoKTtcbiAgICAgICAgICAgIGNoZWNrR2FtZU92ZXIodGhpcy5wbGF5ZXJPbmUsIHRoaXMuUGxheWVyVHdvKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhhbmRsZVBsb3R0aW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnBsYXllck9uZS5ib2FyZC5wbG90RmxlZXQoKTtcbiAgICAgIHRoaXMuUGxheWVyVHdvLmJvYXJkLnBsb3RGbGVldCgpO1xuICAgIH0sXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2FtZSB9O1xuIiwiY29uc3QgeyBzaGlwIH0gPSByZXF1aXJlKFwiLi9zaGlwXCIpO1xuY29uc3QgeyByYW5kb21OdW1HZW4gfSA9IHJlcXVpcmUoXCIuL2hlbHBlcnNcIik7XG5cbmNvbnN0IGdhbWVib2FyZCA9ICgpID0+IHtcbiAgY29uc3QgcmFuZG9tTnVtID0gcmFuZG9tTnVtR2VuKCk7XG4gIGxldCBncmlkQXJyID0gW107XG5cbiAgY29uc3QgZ2VuZXJhdGVHcmlkID0gKCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICAgIGdyaWRBcnIucHVzaCh7XG4gICAgICAgICAgeDogaSxcbiAgICAgICAgICB5OiBqLFxuICAgICAgICAgIHNoaXBOYW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgYXR0YWNrZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ3JpZEFycjtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGlzTG9zZXI6IGZhbHNlLFxuICAgIGdyaWQ6IGdlbmVyYXRlR3JpZCgpLFxuICAgIG1pc3NlZFNob3RzOiBbXSxcbiAgICBoaXRzOiBbXSxcbiAgICBzdW5rU2hpcHM6IFtdLFxuICAgIG15RmxlZXQ6IFtcbiAgICAgIHNoaXAoXCJDYXJyaWVyXCIsIHJhbmRvbU51bSksXG4gICAgICBzaGlwKFwiQmF0dGxlc2hpcFwiLCByYW5kb21OdW0pLFxuICAgICAgc2hpcChcIkRlc3Ryb3llclwiLCByYW5kb21OdW0pLFxuICAgICAgc2hpcChcIlN1Ym1hcmluZVwiLCByYW5kb21OdW0pLFxuICAgICAgc2hpcChcIlBhdHJvbCBCb2F0XCIsIHJhbmRvbU51bSksXG4gICAgXSxcbiAgICByZWNlaXZlQXR0YWNrOiBmdW5jdGlvbiAoeENvb3JkLCB5Q29vcmQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBIaXQgbG9nZ2VkIGF0ICR7eENvb3JkfSwke3lDb29yZH1gKTtcbiAgICAgIHRoaXMuZ3JpZC5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgaWYgKG9iai54ID09IHhDb29yZCAmJiBvYmoueSA9PSB5Q29vcmQpIHtcbiAgICAgICAgICBvYmouYXR0YWNrZWQgPSB0cnVlO1xuICAgICAgICAgIGlmIChvYmouc2hpcE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5taXNzZWRTaG90cy5wdXNoKHsgeDogeENvb3JkLCB5OiB5Q29vcmQgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAob2JqLnNoaXBOYW1lKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJDYXJyaWVyXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2goeyB4OiB4Q29vcmQsIHk6IHlDb29yZCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm15RmxlZXRbMF0uaGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJCYXR0bGVzaGlwXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2goeyB4OiB4Q29vcmQsIHk6IHlDb29yZCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm15RmxlZXRbMV0uaGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJEZXN0cm95ZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmhpdHMucHVzaCh7IHg6IHhDb29yZCwgeTogeUNvb3JkIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubXlGbGVldFsyXS5oaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIlN1Ym1hcmluZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuaGl0cy5wdXNoKHsgeDogeENvb3JkLCB5OiB5Q29vcmQgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5teUZsZWV0WzNdLmhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiUGF0cm9sIEJvYXRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmhpdHMucHVzaCh7IHg6IHhDb29yZCwgeTogeUNvb3JkIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubXlGbGVldFs0XS5oaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmNoZWNrU3Vua1NoaXBzKCk7XG4gICAgfSxcbiAgICBwbG90RmxlZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBmbGVldCA9IHRoaXMubXlGbGVldDtcbiAgICAgIGZsZWV0LmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgbGV0IHBsb3RzID0gc2hpcC5sb2NhdGlvbjtcbiAgICAgICAgcGxvdHMuZm9yRWFjaCgoY29vcmQpID0+IHtcbiAgICAgICAgICB0aGlzLmdyaWQuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgICBpZiAob2JqLnggPT09IGNvb3JkLnggJiYgb2JqLnkgPT09IGNvb3JkLnkpIHtcbiAgICAgICAgICAgICAgb2JqLnNoaXBOYW1lID0gc2hpcC5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hlY2tTdW5rU2hpcHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBmbGVldCA9IHRoaXMubXlGbGVldDtcbiAgICAgIGZsZWV0LmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgaWYgKHNoaXAuc3VuayA9PT0gdHJ1ZSAmJiAhdGhpcy5zdW5rU2hpcHMuaW5jbHVkZXMoc2hpcC5uYW1lKSkge1xuICAgICAgICAgIHRoaXMuc3Vua1NoaXBzLnB1c2goU3RyaW5nKHNoaXAubmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMudG9nZ2xlR2FtZU92ZXIoKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlR2FtZU92ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCB0cmlnZ2VyID0gdGhpcy5zdW5rU2hpcHMubGVuZ3RoO1xuICAgICAgaWYgKHRyaWdnZXIgPT0gNSkge1xuICAgICAgICB0aGlzLmlzTG9zZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2FtZWJvYXJkIH07XG4iLCJmdW5jdGlvbiByZW1vdmVNYXRjaGluZ09iamVjdHMoYXJyT25lLCBhcnJUd28pIHtcbiAgcmV0dXJuIGFyck9uZS5maWx0ZXIoXG4gICAgKG9iak9uZSkgPT5cbiAgICAgICFhcnJUd28uc29tZSgob2JqVHdvKSA9PiBvYmpPbmUueCA9PT0gb2JqVHdvLnggJiYgb2JqT25lLnkgPT09IG9ialR3by55KVxuICApO1xufVxuXG5mdW5jdGlvbiByYW5kb21OdW1HZW4oKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByZW1vdmVNYXRjaGluZ09iamVjdHMsXG4gIHJhbmRvbU51bUdlbixcbn07XG4iLCJjb25zdCB7IGdhbWVib2FyZCB9ID0gcmVxdWlyZShcIi4vZ2FtZWJvYXJkLmpzXCIpO1xuXG5jb25zdCBwbGF5ZXIgPSAobmFtZSkgPT4ge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgaXNUdXJuOiBmYWxzZSxcbiAgICBib2FyZDogZ2FtZWJvYXJkKCksXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgcGxheWVyIH07XG4iLCJjb25zdCB7IHBsb3RNYXBzIH0gPSByZXF1aXJlKFwiLi9zaGlwUGxvdHRpbmdcIik7XG5cbmNvbnN0IHNoaXAgPSAodHlwZSwgcmFuZG9tU2V0KSA9PiB7XG4gIGNvbnN0IGxlbmd0aCA9ICh0eXBlKSA9PiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiQ2FycmllclwiOlxuICAgICAgICByZXR1cm4gTnVtYmVyKDUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJCYXR0bGVzaGlwXCI6XG4gICAgICAgIHJldHVybiBOdW1iZXIoNCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkRlc3Ryb3llclwiOlxuICAgICAgICByZXR1cm4gTnVtYmVyKDMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTdWJtYXJpbmVcIjpcbiAgICAgICAgcmV0dXJuIE51bWJlcigzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiUGF0cm9sIEJvYXRcIjpcbiAgICAgICAgcmV0dXJuIE51bWJlcigyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNoaXAgdHlwZSBwcm92aWRlZFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHJhbmRvbVBsYWNlbWVudChzaGlwVHlwZSwgc2V0KSB7XG4gICAgc3dpdGNoIChzaGlwVHlwZSkge1xuICAgICAgY2FzZSBcIkNhcnJpZXJcIjpcbiAgICAgICAgcmV0dXJuIHBsb3RNYXBzW3NldF1bMF07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkJhdHRsZXNoaXBcIjpcbiAgICAgICAgcmV0dXJuIHBsb3RNYXBzW3NldF1bMV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkRlc3Ryb3llclwiOlxuICAgICAgICByZXR1cm4gcGxvdE1hcHNbc2V0XVsyXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU3VibWFyaW5lXCI6XG4gICAgICAgIHJldHVybiBwbG90TWFwc1tzZXRdWzNdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJQYXRyb2wgQm9hdFwiOlxuICAgICAgICByZXR1cm4gcGxvdE1hcHNbc2V0XVs0XTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIGNvb3JkaW5hdGVzXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6IHR5cGUsXG4gICAgbGVuZ3RoOiBsZW5ndGgodHlwZSksXG4gICAgaGl0czogMCxcbiAgICBzdW5rOiBmYWxzZSxcbiAgICBsb2NhdGlvbjogcmFuZG9tUGxhY2VtZW50KHR5cGUsIHJhbmRvbVNldCksXG4gICAgaGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmhpdHMgKz0gMTtcbiAgICAgIGNvbnNvbGUubG9nKFwiSGl0IGRldGVjdGVkIVwiKTtcbiAgICAgIHRoaXMuaXNTdW5rKCk7XG4gICAgfSxcbiAgICBpc1N1bms6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmhpdHMgPT09IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc3VuayA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMubmFtZX0gaGFzIGJlZW4gc3Vua2ApO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgc2hpcCB9O1xuIiwiY29uc3QgcGxvdE1hcHMgPSBbXG4gIFtdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IDAsIHk6IDEgfSxcbiAgICAgIHsgeDogMCwgeTogMiB9LFxuICAgICAgeyB4OiAwLCB5OiAzIH0sXG4gICAgICB7IHg6IDAsIHk6IDQgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogMiwgeTogMyB9LFxuICAgICAgeyB4OiAyLCB5OiA0IH0sXG4gICAgICB7IHg6IDIsIHk6IDUgfSxcbiAgICAgIHsgeDogMiwgeTogNiB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA3LCB5OiA1IH0sXG4gICAgICB7IHg6IDcsIHk6IDYgfSxcbiAgICAgIHsgeDogNywgeTogNyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiA3IH0sXG4gICAgICB7IHg6IDQsIHk6IDggfSxcbiAgICAgIHsgeDogNCwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA5LCB5OiA4IH0sXG4gICAgICB7IHg6IDksIHk6IDkgfSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IDAsIHk6IDEgfSxcbiAgICAgIHsgeDogMCwgeTogMiB9LFxuICAgICAgeyB4OiAwLCB5OiAzIH0sXG4gICAgICB7IHg6IDAsIHk6IDQgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNSwgeTogMyB9LFxuICAgICAgeyB4OiA2LCB5OiAzIH0sXG4gICAgICB7IHg6IDcsIHk6IDMgfSxcbiAgICAgIHsgeDogOCwgeTogMyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA3LCB5OiA1IH0sXG4gICAgICB7IHg6IDcsIHk6IDYgfSxcbiAgICAgIHsgeDogNywgeTogNyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiA5IH0sXG4gICAgICB7IHg6IDUsIHk6IDkgfSxcbiAgICAgIHsgeDogNiwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA5LCB5OiA4IH0sXG4gICAgICB7IHg6IDksIHk6IDkgfSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiA3IH0sXG4gICAgICB7IHg6IDEsIHk6IDcgfSxcbiAgICAgIHsgeDogMiwgeTogNyB9LFxuICAgICAgeyB4OiAzLCB5OiA3IH0sXG4gICAgICB7IHg6IDQsIHk6IDcgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNSwgeTogMiB9LFxuICAgICAgeyB4OiA2LCB5OiAyIH0sXG4gICAgICB7IHg6IDcsIHk6IDIgfSxcbiAgICAgIHsgeDogOCwgeTogMiB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA5LCB5OiA1IH0sXG4gICAgICB7IHg6IDksIHk6IDYgfSxcbiAgICAgIHsgeDogOSwgeTogNyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiA5IH0sXG4gICAgICB7IHg6IDUsIHk6IDkgfSxcbiAgICAgIHsgeDogNiwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiAxLCB5OiAxIH0sXG4gICAgICB7IHg6IDEsIHk6IDIgfSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IDAsIHk6IDEgfSxcbiAgICAgIHsgeDogMCwgeTogMiB9LFxuICAgICAgeyB4OiAwLCB5OiAzIH0sXG4gICAgICB7IHg6IDAsIHk6IDQgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNSwgeTogMyB9LFxuICAgICAgeyB4OiA2LCB5OiAzIH0sXG4gICAgICB7IHg6IDcsIHk6IDMgfSxcbiAgICAgIHsgeDogOCwgeTogMyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA3LCB5OiA1IH0sXG4gICAgICB7IHg6IDcsIHk6IDYgfSxcbiAgICAgIHsgeDogNywgeTogNyB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiA5IH0sXG4gICAgICB7IHg6IDUsIHk6IDkgfSxcbiAgICAgIHsgeDogNiwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA5LCB5OiA4IH0sXG4gICAgICB7IHg6IDksIHk6IDkgfSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgeyB4OiA4LCB5OiA0IH0sXG4gICAgICB7IHg6IDgsIHk6IDUgfSxcbiAgICAgIHsgeDogOCwgeTogNiB9LFxuICAgICAgeyB4OiA4LCB5OiA3IH0sXG4gICAgICB7IHg6IDgsIHk6IDggfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogMSwgeTogMiB9LFxuICAgICAgeyB4OiAxLCB5OiAzIH0sXG4gICAgICB7IHg6IDEsIHk6IDQgfSxcbiAgICAgIHsgeDogMSwgeTogNSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiAwLCB5OiA5IH0sXG4gICAgICB7IHg6IDEsIHk6IDkgfSxcbiAgICAgIHsgeDogMiwgeTogOSB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA3LCB5OiAyIH0sXG4gICAgICB7IHg6IDgsIHk6IDIgfSxcbiAgICAgIHsgeDogOSwgeTogMiB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgeyB4OiA0LCB5OiAzIH0sXG4gICAgICB7IHg6IDQsIHk6IDQgfSxcbiAgICBdLFxuICBdLFxuXTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IHBsb3RNYXBzIH07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiY29uc3QgeyBnYW1lIH0gPSByZXF1aXJlKFwiLi9nYW1lTG9naWNcIik7XG5cbmNvbnN0IG5ld0dhbWUgPSBnYW1lKCk7XG5uZXdHYW1lLmluaXQoKTtcbiJdLCJuYW1lcyI6WyJyZW1vdmVNYXRjaGluZ09iamVjdHMiLCJtb2R1bGUiLCJleHBvcnRzIiwiY29tcHV0ZXJMZWdhbEF0dGFjayIsInBsYXllciIsImlsbGVnYWxNb3ZlcyIsImF0dGFja09wdGlvbnMiLCJpIiwiaiIsInB1c2giLCJ4IiwieSIsImJvYXJkIiwibWlzc2VkU2hvdHMiLCJmb3JFYWNoIiwib2JqIiwiaGl0cyIsImxlZ2FsQXR0YWNrcyIsInJhbmRvbUxlZ2FsQXR0YWNrIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImdhbWUiLCJyZW5kZXJHYW1lT3ZlckhUTUwiLCJnaWZVcmwiLCJoZWFkZXIiLCJzdGF0dXMiLCJtZXNzYWdlIiwibWFpbkNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGFibGUiLCJyZW1vdmUiLCJnYW1lT3ZlckNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJnYW1lT3ZlckhlYWRlciIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJnYW1lT3ZlckdpZiIsImdhbWVPdmVyTWVzc2FnZSIsInBsYXlBZ2FpbkJ0biIsImlubmVyVGV4dCIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwicmVuZGVyUGxheWVyQ3JlYXRpb25FbCIsImNvbnRhaW5lckVsIiwib3ZlcnZpZXdUZXh0IiwiZm9ybUVsIiwiaW5wdXRFbCIsInJlcXVpcmVkIiwiYnRuRWwiLCJnZW5lcmF0ZUdhbWVib2FyZEVsIiwiZGF0YUFycmF5IiwiZ3JpZCIsIm1haW5Db250YWluZXIiLCJ0YWJsZUNvbnRhaW5lciIsInBsYXllckhlYWRpbmciLCJuYW1lIiwicm93IiwiZGF0YUluZGV4IiwiY2VsbCIsImF0dGFja2VkIiwic2hpcE5hbWUiLCJoYW5kbGVIaXRzQW5kTWlzc2VzIiwidGlsZSIsImdldEF0dHJpYnV0ZSIsImhhbmRsZVBsYXllckdyaWQiLCJjaGVja0dhbWVPdmVyIiwicGxheWVyT25lIiwicGxheWVyVHdvIiwicHJvcE9uZSIsInByb3BUd28iLCJwcm9wVGhyZWUiLCJwcm9wRm91ciIsImlzTG9zZXIiLCJwbGF5ZXJPbmVOYW1lIiwidW5kZWZpbmVkIiwicGxheWVyVHdvTmFtZSIsIlBsYXllclR3byIsImluaXQiLCJ0aGlzIiwiY2FjaGVEb20iLCJzdGFydEV2ZW50TGlzdGVuaW5nIiwiZm9ybUNvbnRhaW5lciIsImZvcm1TdWJtaXRCdG4iLCJmb3JtSW5wdXQiLCJ2YWx1ZSIsImhhbmRsZUdhbWVTZXR1cCIsImhhbmRsZVBsb3R0aW5nIiwic3RhcnRBdHRhY2tMaXN0ZW5pbmciLCJ0YXJnZXQiLCJlbmVteVgiLCJlbmVteVkiLCJyZWNlaXZlQXR0YWNrIiwiY29tcHV0ZXJBdHRhY2siLCJwbGF5ZXJYIiwicGxheWVyWSIsIlN0cmluZyIsIm9uY2UiLCJwbG90RmxlZXQiLCJzaGlwIiwicmFuZG9tTnVtR2VuIiwiZ2FtZWJvYXJkIiwicmFuZG9tTnVtIiwiZ3JpZEFyciIsImdlbmVyYXRlR3JpZCIsInN1bmtTaGlwcyIsIm15RmxlZXQiLCJ4Q29vcmQiLCJ5Q29vcmQiLCJoaXQiLCJjaGVja1N1bmtTaGlwcyIsImNvb3JkIiwic3VuayIsImluY2x1ZGVzIiwidG9nZ2xlR2FtZU92ZXIiLCJhcnJPbmUiLCJhcnJUd28iLCJmaWx0ZXIiLCJvYmpPbmUiLCJzb21lIiwib2JqVHdvIiwiaXNUdXJuIiwicGxvdE1hcHMiLCJ0eXBlIiwicmFuZG9tU2V0IiwiTnVtYmVyIiwiRXJyb3IiLCJzaGlwVHlwZSIsInNldCIsInJhbmRvbVBsYWNlbWVudCIsImlzU3VuayIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iXSwic291cmNlUm9vdCI6IiJ9