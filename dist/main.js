(()=>{var e={496:(e,t,a)=>{const{removeMatchingObjects:r}=a(225);e.exports={computerLegalAttack:function(e){let t=[],a=[];for(let e=0;e<10;e++)for(let t=0;t<10;t++)a.push({x:e,y:t});e.board.missedShots.forEach((e=>{t.push(e)})),e.board.hits.forEach((e=>{t.push(e)}));let i=r(a,t),n=i[Math.floor(Math.random()*i.length)];return console.log(`Random attack: ${n}`),n}}},817:(e,t,a)=>{const{game:r}=a(404);function i(e,t,a,r){document.querySelector(".main-content-container").setAttribute("class","hidden");const i=document.createElement("div");i.classList.add("game-over-container");const n=document.createElement("h1");n.classList.add("game-over-header"),n.setAttribute("id",`${a}`),n.textContent=t,i.appendChild(n);const s=document.createElement("img");s.classList.add("game-over-img"),s.setAttribute("src",e),i.appendChild(s);const o=document.createElement("p");o.classList.add("game-over-message"),o.textContent=`${r}`,i.appendChild(o);const l=document.createElement("button");l.setAttribute("id","playAgainBtn"),l.innerText="Play Again",i.appendChild(l),document.body.appendChild(i),document.getElementById("playAgainBtn").addEventListener("click",(e=>{e.preventDefault(),window.location.reload()}))}e.exports={renderPlayerCreationEl:function(){const e=document.querySelector("body");let t=document.createElement("div");t.classList.add("player-creation-container");let a=document.createElement("p");a.innerText="You are about to enter unfamiliar waters in an effort to neutralize enemy ships. Due to thick fog our strategy is simple, fire artillery and observe any contact. Intel suggests the enemy fleet contains 5 ships of varying sizes...\n  \n  Instructions:\n  \n  Using arial reconnaissance order fire on mapped coordinates. Hits will be recorded with an explosion marker, while misses will be indicated with a water marker.";let r=document.createElement("form");r.setAttribute("name","player-creation-form"),r.setAttribute("class","player-creation-form");let i=document.createElement("input");i.setAttribute("id","playerName"),i.setAttribute("type","text"),i.setAttribute("min","1"),i.required=!0,i.setAttribute("max","25"),i.setAttribute("placeholder","Player Name");let n=document.createElement("button");n.setAttribute("id","playerSubmit"),n.setAttribute("type","submit"),n.setAttribute("for","player-creation-form"),n.innerText="Launch Fleet",e.appendChild(t),t.appendChild(r),r.appendChild(a),r.appendChild(i),r.appendChild(n)},generateGameboardEl:function(e){const t=[...e.board.grid],a=document.querySelector(".main-content-container"),r=document.createElement("div"),i=document.createElement("table");i.setAttribute("class","gameboard-table");const n=document.createElement("th");n.innerText=`${e.name}'s Fleet`,r.appendChild(n);for(let a=0;a<10;a++){const r=document.createElement("tr");r.setAttribute("class","gameboard-row");for(let i=0;i<10;i++){const n=10*a+i;if(n<t.length){const a=document.createElement("td");r.appendChild(a),a.setAttribute("data-x",`${t[n].x}`),a.setAttribute("data-y",`${t[n].y}`),a.setAttribute("data-attacked",`${t[n].attacked}`),a.setAttribute("data-ship",`${t[n].shipName}`),a.setAttribute("class","gameboard-tile"),"Computer"===e.name?a.classList.add("enemy-tile"):"Computer"!==e.name&&a.classList.add("player-tile")}}i.appendChild(r)}r.appendChild(i),a.appendChild(r)},handleHitsAndMisses:function(){document.querySelectorAll(".gameboard-tile").forEach((e=>{let t=e.getAttribute("data-attacked"),a=e.getAttribute("data-ship");"true"===t&&"undefined"===a&&e.classList.add("missed"),"true"===t&&"undefined"!==a&&e.classList.add("hit")}))},handlePlayerGrid:function(){document.querySelectorAll(".player-tile").forEach((e=>{"undefined"!==e.getAttribute("data-ship")&&e.classList.add("occupied")}))},checkGameOver:function(e,t){let a,r,n,s;!0===t.board.isLoser?(a="https://media.giphy.com/media/3o85xDZyvJPHLfgKXK/giphy.gif",r="You Win",n="winner",s="Operation successful, enemy fleet has been eliminated!",i(a,r,n,s)):!0===e.board.isLoser&&(a="https://media.giphy.com/media/3o6Ztn38eCMwTQIcs8/giphy.gif",r="You Lose",n="loser",s="War....war never changes...",i(a,r,n,s))}}},404:(e,t,a)=>{const{renderPlayerCreationEl:r,generateGameboardEl:i,handleHitsAndMisses:n,handlePlayerGrid:s,checkGameOver:o}=a(817),{player:l}=a(507),{computerLegalAttack:c}=a(496);e.exports={game:()=>({playerOneName:void 0,playerTwoName:"Computer",playerOne:void 0,PlayerTwo:void 0,init:function(){r(),this.cacheDom(),this.startEventListening()},cacheDom:function(){this.formContainer=document.querySelector(".player-creation-container"),this.formSubmitBtn=document.getElementById("playerSubmit"),this.formInput=document.getElementById("playerName")},startEventListening:function(){this.formSubmitBtn.addEventListener("click",(e=>{e.preventDefault(),this.playerOneName=this.formInput.value,this.formContainer.classList.add("hidden"),this.handleGameSetup()}))},handleGameSetup:function(){this.playerOne=l(this.playerOneName),this.PlayerTwo=l(this.playerTwoName),this.handlePlotting(),i(this.playerOne),i(this.PlayerTwo),s(),this.startAttackListening()},startAttackListening:function(){document.querySelectorAll(".enemy-tile").forEach((e=>{e.addEventListener("click",(e=>{e.target.setAttribute("data-attacked","true");let t=e.target.getAttribute("data-x"),a=e.target.getAttribute("data-y");this.PlayerTwo.board.receiveAttack(t,a);let r=c(this.playerOne);this.playerOne.board.receiveAttack(r.x,r.y),document.querySelectorAll(".player-tile").forEach((e=>{let t=e.getAttribute("data-x"),a=e.getAttribute("data-y");t===String(r.x)&&a===String(r.y)&&e.setAttribute("data-attacked","true")})),n(),o(this.playerOne,this.PlayerTwo)}),{once:!0})}))},handlePlotting:function(){this.playerOne.board.plotFleet(),this.PlayerTwo.board.plotFleet()}})}},498:(e,t,a)=>{const{ship:r}=a(643);e.exports={gameboard:()=>{let e=[];return{isLoser:!1,grid:(()=>{for(let t=0;t<10;t++)for(let a=0;a<10;a++)e.push({x:t,y:a,shipName:void 0,attacked:!1});return e})(),missedShots:[],hits:[],sunkShips:[],myFleet:[r("Carrier"),r("Battleship"),r("Destroyer"),r("Submarine"),r("Patrol Boat")],receiveAttack:function(e,t){console.log(`Hit logged at ${e},${t}`),this.grid.forEach((a=>{if(a.x==e&&a.y==t)if(a.attacked=!0,void 0===a.shipName)this.missedShots.push({x:e,y:t});else switch(a.shipName){case"Carrier":this.hits.push({x:e,y:t}),this.myFleet[0].hit();break;case"Battleship":this.hits.push({x:e,y:t}),this.myFleet[1].hit();break;case"Destroyer":this.hits.push({x:e,y:t}),this.myFleet[2].hit();break;case"Submarine":this.hits.push({x:e,y:t}),this.myFleet[3].hit();break;case"Patrol Boat":this.hits.push({x:e,y:t}),this.myFleet[4].hit()}})),this.checkSunkShips()},plotFleet:function(){this.myFleet.forEach((e=>{e.location.forEach((t=>{this.grid.forEach((a=>{a.x===t.x&&a.y===t.y&&(a.shipName=e.name)}))}))}))},checkSunkShips:function(){this.myFleet.forEach((e=>{!0!==e.sunk||this.sunkShips.includes(e.name)||this.sunkShips.push(String(e.name))})),this.toggleGameOver()},toggleGameOver:function(){5==this.sunkShips.length&&(this.isLoser=!0)}}}}},225:e=>{const t=()=>Math.floor(10*Math.random());e.exports={randomNumZeroToNine:t,randomDirection:()=>{let e;return e=t()<=4?"horizontal":"vertical",e},determineSafePath:(e,t)=>{let a;return"horizontal"===e?a=t.x<=4?"right":"left":"vertical"===e&&(a=t.y<=4?"down":"up"),a},removeMatchingObjects:function(e,t){return e.filter((e=>!t.some((t=>e.x===t.x&&e.y===t.y))))}}},507:(e,t,a)=>{const{gameboard:r}=a(498);e.exports={player:e=>({name:e,isTurn:!1,board:r()})}},643:e=>{e.exports={ship:e=>({name:e,length:(e=>{switch(e){case"Carrier":return Number(5);case"Battleship":return Number(4);case"Destroyer":case"Submarine":return Number(3);case"Patrol Boat":return Number(2);default:throw new Error("Invalid ship type provided")}})(e),hits:0,sunk:!1,location:function(e){switch(e){case"Carrier":return[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}];case"Battleship":return[{x:9,y:2},{x:9,y:3},{x:9,y:4},{x:9,y:5}];case"Destroyer":return[{x:5,y:4},{x:6,y:4},{x:7,y:4}];case"Submarine":return[{x:8,y:0},{x:8,y:1},{x:8,y:2}];case"Patrol Boat":return[{x:5,y:7},{x:6,y:7}];default:throw new Error("Error generating coordinates")}}(e),hit:function(){this.hits+=1,console.log("Hit detected!"),this.isSunk()},isSunk:function(){this.hits===this.length&&(this.sunk=!0,console.log(`${this.name} has been sunk`))}})}}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}(()=>{const{game:e}=a(404);e().init()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2NvbXB1dGVyQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZG9tQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZUxvZ2ljLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgcmVtb3ZlTWF0Y2hpbmdPYmplY3RzIH0gPSByZXF1aXJlKFwiLi9oZWxwZXJzXCIpO1xuXG5mdW5jdGlvbiBjb21wdXRlckxlZ2FsQXR0YWNrKHBsYXllcikge1xuICBsZXQgaWxsZWdhbE1vdmVzID0gW107XG4gIGxldCBhdHRhY2tPcHRpb25zID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgYXR0YWNrT3B0aW9ucy5wdXNoKHtcbiAgICAgICAgeDogaSxcbiAgICAgICAgeTogaixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHBsYXllci5ib2FyZC5taXNzZWRTaG90cy5mb3JFYWNoKChvYmopID0+IHtcbiAgICBpbGxlZ2FsTW92ZXMucHVzaChvYmopO1xuICB9KTtcblxuICBwbGF5ZXIuYm9hcmQuaGl0cy5mb3JFYWNoKChvYmopID0+IHtcbiAgICBpbGxlZ2FsTW92ZXMucHVzaChvYmopO1xuICB9KTtcblxuICBsZXQgbGVnYWxBdHRhY2tzID0gcmVtb3ZlTWF0Y2hpbmdPYmplY3RzKGF0dGFja09wdGlvbnMsIGlsbGVnYWxNb3Zlcyk7XG5cbiAgbGV0IHJhbmRvbUxlZ2FsQXR0YWNrID1cbiAgICBsZWdhbEF0dGFja3NbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGVnYWxBdHRhY2tzLmxlbmd0aCldO1xuXG4gIGNvbnNvbGUubG9nKGBSYW5kb20gYXR0YWNrOiAke3JhbmRvbUxlZ2FsQXR0YWNrfWApO1xuICByZXR1cm4gcmFuZG9tTGVnYWxBdHRhY2s7XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBjb21wdXRlckxlZ2FsQXR0YWNrIH07XG4iLCJjb25zdCB7IGdhbWUgfSA9IHJlcXVpcmUoXCIuL2dhbWVMb2dpY1wiKTtcblxuZnVuY3Rpb24gcmVuZGVyUGxheWVyQ3JlYXRpb25FbCgpIHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICBsZXQgY29udGFpbmVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb250YWluZXJFbC5jbGFzc0xpc3QuYWRkKFwicGxheWVyLWNyZWF0aW9uLWNvbnRhaW5lclwiKTtcblxuICBsZXQgb3ZlcnZpZXdUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cbiAgb3ZlcnZpZXdUZXh0LmlubmVyVGV4dCA9IGBZb3UgYXJlIGFib3V0IHRvIGVudGVyIHVuZmFtaWxpYXIgd2F0ZXJzIGluIGFuIGVmZm9ydCB0byBuZXV0cmFsaXplIGVuZW15IHNoaXBzLiBEdWUgdG8gdGhpY2sgZm9nIG91ciBzdHJhdGVneSBpcyBzaW1wbGUsIGZpcmUgYXJ0aWxsZXJ5IGFuZCBvYnNlcnZlIGFueSBjb250YWN0LiBJbnRlbCBzdWdnZXN0cyB0aGUgZW5lbXkgZmxlZXQgY29udGFpbnMgNSBzaGlwcyBvZiB2YXJ5aW5nIHNpemVzLi4uXG4gIFxuICBJbnN0cnVjdGlvbnM6XG4gIFxuICBVc2luZyBhcmlhbCByZWNvbm5haXNzYW5jZSBvcmRlciBmaXJlIG9uIG1hcHBlZCBjb29yZGluYXRlcy4gSGl0cyB3aWxsIGJlIHJlY29yZGVkIHdpdGggYW4gZXhwbG9zaW9uIG1hcmtlciwgd2hpbGUgbWlzc2VzIHdpbGwgYmUgaW5kaWNhdGVkIHdpdGggYSB3YXRlciBtYXJrZXIuYDtcblxuICBsZXQgZm9ybUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gIGZvcm1FbC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwicGxheWVyLWNyZWF0aW9uLWZvcm1cIik7XG4gIGZvcm1FbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBsYXllci1jcmVhdGlvbi1mb3JtXCIpO1xuXG4gIGxldCBpbnB1dEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBpbnB1dEVsLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheWVyTmFtZVwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJtaW5cIiwgXCIxXCIpO1xuICBpbnB1dEVsLnJlcXVpcmVkID0gdHJ1ZTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJtYXhcIiwgXCIyNVwiKTtcbiAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlBsYXllciBOYW1lXCIpO1xuXG4gIGxldCBidG5FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ0bkVsLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheWVyU3VibWl0XCIpO1xuICBidG5FbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICBidG5FbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJwbGF5ZXItY3JlYXRpb24tZm9ybVwiKTtcbiAgYnRuRWwuaW5uZXJUZXh0ID0gXCJMYXVuY2ggRmxlZXRcIjtcblxuICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lckVsKTtcbiAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoZm9ybUVsKTtcbiAgZm9ybUVsLmFwcGVuZENoaWxkKG92ZXJ2aWV3VGV4dCk7XG4gIGZvcm1FbC5hcHBlbmRDaGlsZChpbnB1dEVsKTtcbiAgZm9ybUVsLmFwcGVuZENoaWxkKGJ0bkVsKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVHYW1lYm9hcmRFbChwbGF5ZXIpIHtcbiAgY29uc3QgZGF0YUFycmF5ID0gWy4uLnBsYXllci5ib2FyZC5ncmlkXTtcbiAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250ZW50LWNvbnRhaW5lclwiKTtcbiAgY29uc3QgdGFibGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgdGFibGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJnYW1lYm9hcmQtdGFibGVcIik7XG4gIGNvbnN0IHBsYXllckhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gIHBsYXllckhlYWRpbmcuaW5uZXJUZXh0ID0gYCR7cGxheWVyLm5hbWV9J3MgRmxlZXRgO1xuICB0YWJsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwbGF5ZXJIZWFkaW5nKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgcm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZ2FtZWJvYXJkLXJvd1wiKTtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgY29uc3QgZGF0YUluZGV4ID0gaSAqIDEwICsgajtcblxuICAgICAgaWYgKGRhdGFJbmRleCA8IGRhdGFBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcImRhdGEteFwiLCBgJHtkYXRhQXJyYXlbZGF0YUluZGV4XS54fWApO1xuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcImRhdGEteVwiLCBgJHtkYXRhQXJyYXlbZGF0YUluZGV4XS55fWApO1xuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcImRhdGEtYXR0YWNrZWRcIiwgYCR7ZGF0YUFycmF5W2RhdGFJbmRleF0uYXR0YWNrZWR9YCk7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1zaGlwXCIsIGAke2RhdGFBcnJheVtkYXRhSW5kZXhdLnNoaXBOYW1lfWApO1xuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZ2FtZWJvYXJkLXRpbGVcIik7XG4gICAgICAgIC8vIE9ubHkgYWRkIGV2ZW50IGxpc3RlbmVycyB0byBlbmVteSBnYW1lYm9hcmRcbiAgICAgICAgaWYgKHBsYXllci5uYW1lID09PSBcIkNvbXB1dGVyXCIpIHtcbiAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJlbmVteS10aWxlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHBsYXllci5uYW1lICE9PSBcIkNvbXB1dGVyXCIpIHtcbiAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJwbGF5ZXItdGlsZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0YWJsZS5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG4gIHRhYmxlQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgbWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YWJsZUNvbnRhaW5lcik7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUhpdHNBbmRNaXNzZXMoKSB7XG4gIGNvbnN0IGFsbEdyaWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FtZWJvYXJkLXRpbGVcIik7XG4gIGFsbEdyaWRJdGVtcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgbGV0IHN0YXR1cyA9IHRpbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdHRhY2tlZFwiKTtcbiAgICBsZXQgbmFtZSA9IHRpbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zaGlwXCIpO1xuICAgIGlmIChzdGF0dXMgPT09IFwidHJ1ZVwiICYmIG5hbWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRpbGUuY2xhc3NMaXN0LmFkZChcIm1pc3NlZFwiKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSBcInRydWVcIiAmJiBuYW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aWxlLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUGxheWVyR3JpZCgpIHtcbiAgY29uc3QgYWxsUGxheWVyVGllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGxheWVyLXRpbGVcIik7XG4gIGFsbFBsYXllclRpZXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgIGxldCBuYW1lID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNoaXBcIik7XG4gICAgaWYgKG5hbWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRpbGUuY2xhc3NMaXN0LmFkZChcIm9jY3VwaWVkXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrR2FtZU92ZXIocGxheWVyT25lLCBwbGF5ZXJUd28pIHtcbiAgbGV0IHByb3BPbmUgPSB1bmRlZmluZWQ7XG4gIGxldCBwcm9wVHdvID0gdW5kZWZpbmVkO1xuICBsZXQgcHJvcFRocmVlID0gdW5kZWZpbmVkO1xuICBsZXQgcHJvcEZvdXIgPSB1bmRlZmluZWQ7XG5cbiAgaWYgKHBsYXllclR3by5ib2FyZC5pc0xvc2VyID09PSB0cnVlKSB7XG4gICAgcHJvcE9uZSA9IFwiaHR0cHM6Ly9tZWRpYS5naXBoeS5jb20vbWVkaWEvM284NXhEWnl2SlBITGZnS1hLL2dpcGh5LmdpZlwiO1xuICAgIHByb3BUd28gPSBcIllvdSBXaW5cIjtcbiAgICBwcm9wVGhyZWUgPSBcIndpbm5lclwiO1xuICAgIHByb3BGb3VyID0gXCJPcGVyYXRpb24gc3VjY2Vzc2Z1bCwgZW5lbXkgZmxlZXQgaGFzIGJlZW4gZWxpbWluYXRlZCFcIjtcbiAgICByZW5kZXJHYW1lT3ZlckhUTUwocHJvcE9uZSwgcHJvcFR3bywgcHJvcFRocmVlLCBwcm9wRm91cik7XG4gIH0gZWxzZSBpZiAocGxheWVyT25lLmJvYXJkLmlzTG9zZXIgPT09IHRydWUpIHtcbiAgICBwcm9wT25lID0gXCJodHRwczovL21lZGlhLmdpcGh5LmNvbS9tZWRpYS8zbzZadG4zOGVDTXdUUUljczgvZ2lwaHkuZ2lmXCI7XG4gICAgcHJvcFR3byA9IFwiWW91IExvc2VcIjtcbiAgICBwcm9wVGhyZWUgPSBcImxvc2VyXCI7XG4gICAgcHJvcEZvdXIgPSBcIldhci4uLi53YXIgbmV2ZXIgY2hhbmdlcy4uLlwiO1xuICAgIHJlbmRlckdhbWVPdmVySFRNTChwcm9wT25lLCBwcm9wVHdvLCBwcm9wVGhyZWUsIHByb3BGb3VyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJHYW1lT3ZlckhUTUwoZ2lmVXJsLCBoZWFkZXIsIHN0YXR1cywgbWVzc2FnZSkge1xuICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250ZW50LWNvbnRhaW5lclwiKTtcbiAgbWFpbkNvbnRlbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJoaWRkZW5cIik7XG5cbiAgY29uc3QgZ2FtZU92ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBnYW1lT3ZlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ2FtZS1vdmVyLWNvbnRhaW5lclwiKTtcblxuICBjb25zdCBnYW1lT3ZlckhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgZ2FtZU92ZXJIZWFkZXIuY2xhc3NMaXN0LmFkZChcImdhbWUtb3Zlci1oZWFkZXJcIik7XG4gIGdhbWVPdmVySGVhZGVyLnNldEF0dHJpYnV0ZShcImlkXCIsIGAke3N0YXR1c31gKTtcbiAgZ2FtZU92ZXJIZWFkZXIudGV4dENvbnRlbnQgPSBoZWFkZXI7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVPdmVySGVhZGVyKTtcblxuICBjb25zdCBnYW1lT3ZlckdpZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gIGdhbWVPdmVyR2lmLmNsYXNzTGlzdC5hZGQoXCJnYW1lLW92ZXItaW1nXCIpO1xuICBnYW1lT3ZlckdpZi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgZ2lmVXJsKTtcbiAgZ2FtZU92ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZ2FtZU92ZXJHaWYpO1xuXG4gIGNvbnN0IGdhbWVPdmVyTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBnYW1lT3Zlck1lc3NhZ2UuY2xhc3NMaXN0LmFkZChcImdhbWUtb3Zlci1tZXNzYWdlXCIpO1xuICBnYW1lT3Zlck1lc3NhZ2UudGV4dENvbnRlbnQgPSBgJHttZXNzYWdlfWA7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVPdmVyTWVzc2FnZSk7XG5cbiAgY29uc3QgcGxheUFnYWluQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgcGxheUFnYWluQnRuLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicGxheUFnYWluQnRuXCIpO1xuICBwbGF5QWdhaW5CdG4uaW5uZXJUZXh0ID0gXCJQbGF5IEFnYWluXCI7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXlBZ2FpbkJ0bik7XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnYW1lT3ZlckNvbnRhaW5lcik7XG4gIGxpc3RlbkZvclBsYXlBZ2FpbigpO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5Gb3JQbGF5QWdhaW4oKSB7XG4gIGNvbnN0IHBsYXlBZ2FpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUFnYWluQnRuXCIpO1xuICBwbGF5QWdhaW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByZW5kZXJQbGF5ZXJDcmVhdGlvbkVsLFxuICBnZW5lcmF0ZUdhbWVib2FyZEVsLFxuICBoYW5kbGVIaXRzQW5kTWlzc2VzLFxuICBoYW5kbGVQbGF5ZXJHcmlkLFxuICBjaGVja0dhbWVPdmVyLFxufTtcbiIsImNvbnN0IHtcbiAgcmVuZGVyUGxheWVyQ3JlYXRpb25FbCxcbiAgZ2VuZXJhdGVHYW1lYm9hcmRFbCxcbiAgaGFuZGxlSGl0c0FuZE1pc3NlcyxcbiAgaGFuZGxlUGxheWVyR3JpZCxcbiAgY2hlY2tHYW1lT3Zlcixcbn0gPSByZXF1aXJlKFwiLi9kb21Db250cm9sbGVyXCIpO1xuY29uc3QgeyBwbGF5ZXIgfSA9IHJlcXVpcmUoXCIuL3BsYXllclwiKTtcbmNvbnN0IHsgY29tcHV0ZXJMZWdhbEF0dGFjayB9ID0gcmVxdWlyZShcIi4vY29tcHV0ZXJBY3Rpb25zXCIpO1xuXG5jb25zdCBnYW1lID0gKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHBsYXllck9uZU5hbWU6IHVuZGVmaW5lZCxcbiAgICBwbGF5ZXJUd29OYW1lOiBcIkNvbXB1dGVyXCIsXG4gICAgcGxheWVyT25lOiB1bmRlZmluZWQsXG4gICAgUGxheWVyVHdvOiB1bmRlZmluZWQsXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgcmVuZGVyUGxheWVyQ3JlYXRpb25FbCgpO1xuICAgICAgdGhpcy5jYWNoZURvbSgpO1xuICAgICAgdGhpcy5zdGFydEV2ZW50TGlzdGVuaW5nKCk7XG4gICAgfSxcbiAgICBjYWNoZURvbTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5mb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItY3JlYXRpb24tY29udGFpbmVyXCIpO1xuICAgICAgdGhpcy5mb3JtU3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5ZXJTdWJtaXRcIik7XG4gICAgICB0aGlzLmZvcm1JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyTmFtZVwiKTtcbiAgICB9LFxuICAgIHN0YXJ0RXZlbnRMaXN0ZW5pbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnBsYXllck9uZU5hbWUgPSB0aGlzLmZvcm1JbnB1dC52YWx1ZTtcbiAgICAgICAgdGhpcy5mb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICAgIHRoaXMuaGFuZGxlR2FtZVNldHVwKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhhbmRsZUdhbWVTZXR1cDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wbGF5ZXJPbmUgPSBwbGF5ZXIodGhpcy5wbGF5ZXJPbmVOYW1lKTtcbiAgICAgIHRoaXMuUGxheWVyVHdvID0gcGxheWVyKHRoaXMucGxheWVyVHdvTmFtZSk7XG4gICAgICB0aGlzLmhhbmRsZVBsb3R0aW5nKCk7XG4gICAgICBnZW5lcmF0ZUdhbWVib2FyZEVsKHRoaXMucGxheWVyT25lKTtcbiAgICAgIGdlbmVyYXRlR2FtZWJvYXJkRWwodGhpcy5QbGF5ZXJUd28pO1xuICAgICAgaGFuZGxlUGxheWVyR3JpZCgpO1xuICAgICAgdGhpcy5zdGFydEF0dGFja0xpc3RlbmluZygpO1xuICAgIH0sXG4gICAgc3RhcnRBdHRhY2tMaXN0ZW5pbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lbmVteS10aWxlXCIpO1xuICAgICAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dGFja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIGxldCBlbmVteVggPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXhcIik7XG4gICAgICAgICAgICBsZXQgZW5lbXlZID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS15XCIpO1xuICAgICAgICAgICAgdGhpcy5QbGF5ZXJUd28uYm9hcmQucmVjZWl2ZUF0dGFjayhlbmVteVgsIGVuZW15WSk7XG4gICAgICAgICAgICBsZXQgY29tcHV0ZXJBdHRhY2sgPSBjb21wdXRlckxlZ2FsQXR0YWNrKHRoaXMucGxheWVyT25lKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyT25lLmJvYXJkLnJlY2VpdmVBdHRhY2soXG4gICAgICAgICAgICAgIGNvbXB1dGVyQXR0YWNrLngsXG4gICAgICAgICAgICAgIGNvbXB1dGVyQXR0YWNrLnlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJPbmVUaWxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGxheWVyLXRpbGVcIik7XG4gICAgICAgICAgICBwbGF5ZXJPbmVUaWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBwbGF5ZXJYID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXhcIik7XG4gICAgICAgICAgICAgIGxldCBwbGF5ZXJZID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXlcIik7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBwbGF5ZXJYID09PSBTdHJpbmcoY29tcHV0ZXJBdHRhY2sueCkgJiZcbiAgICAgICAgICAgICAgICBwbGF5ZXJZID09PSBTdHJpbmcoY29tcHV0ZXJBdHRhY2sueSlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dGFja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYW5kbGVIaXRzQW5kTWlzc2VzKCk7XG4gICAgICAgICAgICBjaGVja0dhbWVPdmVyKHRoaXMucGxheWVyT25lLCB0aGlzLlBsYXllclR3byk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVQbG90dGluZzogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wbGF5ZXJPbmUuYm9hcmQucGxvdEZsZWV0KCk7XG4gICAgICB0aGlzLlBsYXllclR3by5ib2FyZC5wbG90RmxlZXQoKTtcbiAgICB9LFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IGdhbWUgfTtcbiIsImNvbnN0IHsgc2hpcCB9ID0gcmVxdWlyZShcIi4vc2hpcFwiKTtcblxuY29uc3QgZ2FtZWJvYXJkID0gKCkgPT4ge1xuICBsZXQgZ3JpZEFyciA9IFtdO1xuXG4gIGNvbnN0IGdlbmVyYXRlR3JpZCA9ICgpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICBncmlkQXJyLnB1c2goe1xuICAgICAgICAgIHg6IGksXG4gICAgICAgICAgeTogaixcbiAgICAgICAgICBzaGlwTmFtZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGF0dGFja2VkOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWRBcnI7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpc0xvc2VyOiBmYWxzZSxcbiAgICBncmlkOiBnZW5lcmF0ZUdyaWQoKSxcbiAgICBtaXNzZWRTaG90czogW10sXG4gICAgaGl0czogW10sXG4gICAgc3Vua1NoaXBzOiBbXSxcbiAgICBteUZsZWV0OiBbXG4gICAgICBzaGlwKFwiQ2FycmllclwiKSxcbiAgICAgIHNoaXAoXCJCYXR0bGVzaGlwXCIpLFxuICAgICAgc2hpcChcIkRlc3Ryb3llclwiKSxcbiAgICAgIHNoaXAoXCJTdWJtYXJpbmVcIiksXG4gICAgICBzaGlwKFwiUGF0cm9sIEJvYXRcIiksXG4gICAgXSxcbiAgICByZWNlaXZlQXR0YWNrOiBmdW5jdGlvbiAoeENvb3JkLCB5Q29vcmQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBIaXQgbG9nZ2VkIGF0ICR7eENvb3JkfSwke3lDb29yZH1gKTtcbiAgICAgIHRoaXMuZ3JpZC5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgaWYgKG9iai54ID09IHhDb29yZCAmJiBvYmoueSA9PSB5Q29vcmQpIHtcbiAgICAgICAgICBvYmouYXR0YWNrZWQgPSB0cnVlO1xuICAgICAgICAgIGlmIChvYmouc2hpcE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5taXNzZWRTaG90cy5wdXNoKHsgeDogeENvb3JkLCB5OiB5Q29vcmQgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAob2JqLnNoaXBOYW1lKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJDYXJyaWVyXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2goeyB4OiB4Q29vcmQsIHk6IHlDb29yZCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm15RmxlZXRbMF0uaGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJCYXR0bGVzaGlwXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2goeyB4OiB4Q29vcmQsIHk6IHlDb29yZCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm15RmxlZXRbMV0uaGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJEZXN0cm95ZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmhpdHMucHVzaCh7IHg6IHhDb29yZCwgeTogeUNvb3JkIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubXlGbGVldFsyXS5oaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIlN1Ym1hcmluZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuaGl0cy5wdXNoKHsgeDogeENvb3JkLCB5OiB5Q29vcmQgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5teUZsZWV0WzNdLmhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiUGF0cm9sIEJvYXRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmhpdHMucHVzaCh7IHg6IHhDb29yZCwgeTogeUNvb3JkIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubXlGbGVldFs0XS5oaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmNoZWNrU3Vua1NoaXBzKCk7XG4gICAgfSxcbiAgICBwbG90RmxlZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBmbGVldCA9IHRoaXMubXlGbGVldDtcbiAgICAgIGZsZWV0LmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgbGV0IHBsb3RzID0gc2hpcC5sb2NhdGlvbjtcbiAgICAgICAgcGxvdHMuZm9yRWFjaCgoY29vcmQpID0+IHtcbiAgICAgICAgICB0aGlzLmdyaWQuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgICBpZiAob2JqLnggPT09IGNvb3JkLnggJiYgb2JqLnkgPT09IGNvb3JkLnkpIHtcbiAgICAgICAgICAgICAgb2JqLnNoaXBOYW1lID0gc2hpcC5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hlY2tTdW5rU2hpcHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBmbGVldCA9IHRoaXMubXlGbGVldDtcbiAgICAgIGZsZWV0LmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgaWYgKHNoaXAuc3VuayA9PT0gdHJ1ZSAmJiAhdGhpcy5zdW5rU2hpcHMuaW5jbHVkZXMoc2hpcC5uYW1lKSkge1xuICAgICAgICAgIHRoaXMuc3Vua1NoaXBzLnB1c2goU3RyaW5nKHNoaXAubmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMudG9nZ2xlR2FtZU92ZXIoKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlR2FtZU92ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCB0cmlnZ2VyID0gdGhpcy5zdW5rU2hpcHMubGVuZ3RoO1xuICAgICAgaWYgKHRyaWdnZXIgPT0gNSkge1xuICAgICAgICB0aGlzLmlzTG9zZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2FtZWJvYXJkIH07XG4iLCJjb25zdCByYW5kb21OdW1aZXJvVG9OaW5lID0gKCkgPT4ge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xufTtcblxuY29uc3QgcmFuZG9tRGlyZWN0aW9uID0gKCkgPT4ge1xuICBsZXQgZGlyZWN0aW9uO1xuICBsZXQgY29pbkZsaXAgPSByYW5kb21OdW1aZXJvVG9OaW5lKCk7XG5cbiAgaWYgKGNvaW5GbGlwIDw9IDQpIHtcbiAgICBkaXJlY3Rpb24gPSBcImhvcml6b250YWxcIjtcbiAgfSBlbHNlIHtcbiAgICBkaXJlY3Rpb24gPSBcInZlcnRpY2FsXCI7XG4gIH1cblxuICByZXR1cm4gZGlyZWN0aW9uO1xufTtcblxuY29uc3QgZGV0ZXJtaW5lU2FmZVBhdGggPSAoZGlyZWN0aW9uLCBzdGFydCkgPT4ge1xuICBsZXQgcGF0aDtcblxuICBpZiAoZGlyZWN0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgIGlmIChzdGFydC54IDw9IDQpIHtcbiAgICAgIHBhdGggPSBcInJpZ2h0XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGggPSBcImxlZnRcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcbiAgICBpZiAoc3RhcnQueSA8PSA0KSB7XG4gICAgICBwYXRoID0gXCJkb3duXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGggPSBcInVwXCI7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRoO1xufTtcblxuZnVuY3Rpb24gcmVtb3ZlTWF0Y2hpbmdPYmplY3RzKGFyck9uZSwgYXJyVHdvKSB7XG4gIHJldHVybiBhcnJPbmUuZmlsdGVyKFxuICAgIChvYmpPbmUpID0+XG4gICAgICAhYXJyVHdvLnNvbWUoKG9ialR3bykgPT4gb2JqT25lLnggPT09IG9ialR3by54ICYmIG9iak9uZS55ID09PSBvYmpUd28ueSlcbiAgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJhbmRvbU51bVplcm9Ub05pbmUsXG4gIHJhbmRvbURpcmVjdGlvbixcbiAgZGV0ZXJtaW5lU2FmZVBhdGgsXG4gIHJlbW92ZU1hdGNoaW5nT2JqZWN0cyxcbn07XG4iLCJjb25zdCB7IGdhbWVib2FyZCB9ID0gcmVxdWlyZShcIi4vZ2FtZWJvYXJkLmpzXCIpO1xuXG5jb25zdCBwbGF5ZXIgPSAobmFtZSkgPT4ge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgaXNUdXJuOiBmYWxzZSxcbiAgICBib2FyZDogZ2FtZWJvYXJkKCksXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgcGxheWVyIH07XG4iLCIvLyBjb25zdCB7XG4vLyAgIHJhbmRvbU51bVplcm9Ub05pbmUsXG4vLyAgIHJhbmRvbURpcmVjdGlvbixcbi8vICAgZGV0ZXJtaW5lU2FmZVBhdGgsXG4vLyB9ID0gcmVxdWlyZShcIi4vaGVscGVycy5qc1wiKTtcblxuY29uc3Qgc2hpcCA9ICh0eXBlKSA9PiB7XG4gIGNvbnN0IGxlbmd0aCA9ICh0eXBlKSA9PiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiQ2FycmllclwiOlxuICAgICAgICByZXR1cm4gTnVtYmVyKDUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJCYXR0bGVzaGlwXCI6XG4gICAgICAgIHJldHVybiBOdW1iZXIoNCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkRlc3Ryb3llclwiOlxuICAgICAgICByZXR1cm4gTnVtYmVyKDMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTdWJtYXJpbmVcIjpcbiAgICAgICAgcmV0dXJuIE51bWJlcigzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiUGF0cm9sIEJvYXRcIjpcbiAgICAgICAgcmV0dXJuIE51bWJlcigyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNoaXAgdHlwZSBwcm92aWRlZFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIC8vIGNvbnN0IGdlbmVyYXRlQ29vcmRpbmF0ZXMgPSAocGF0aCwgbGVuZ3RoLCBzdGFydCkgPT4ge1xuICAvLyAgIGxldCBsaXN0ID0gW107XG4gIC8vICAgbGlzdC5wdXNoKHN0YXJ0KTtcblxuICAvLyAgIGlmIChwYXRoID09IFwibGVmdFwiKSB7XG4gIC8vICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gIC8vICAgICAgIGxpc3QucHVzaCh7IHg6IHN0YXJ0LnggLSBpLCB5OiBzdGFydC55IH0pO1xuICAvLyAgICAgfVxuICAvLyAgIH0gZWxzZSBpZiAocGF0aCA9PSBcInJpZ2h0XCIpIHtcbiAgLy8gICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgLy8gICAgICAgbGlzdC5wdXNoKHsgeDogc3RhcnQueCArIGksIHk6IHN0YXJ0LnkgfSk7XG4gIC8vICAgICB9XG4gIC8vICAgfSBlbHNlIGlmIChwYXRoID09IFwidXBcIikge1xuICAvLyAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAvLyAgICAgICBsaXN0LnB1c2goeyB4OiBzdGFydC54LCB5OiBzdGFydC55IC0gaSB9KTtcbiAgLy8gICAgIH1cbiAgLy8gICB9IGVsc2UgaWYgKHBhdGggPT0gXCJkb3duXCIpIHtcbiAgLy8gICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgLy8gICAgICAgbGlzdC5wdXNoKHsgeDogc3RhcnQueCwgeTogc3RhcnQueSArIGkgfSk7XG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyAgIHJldHVybiBsaXN0O1xuICAvLyB9O1xuXG4gIC8vIGNvbnN0IHJhbmRvbVBsYWNlbWVudCA9IChzaGlwTGVuZ3RoKSA9PiB7XG4gIC8vICAgbGV0IHNoaXBDb29yZGluYXRlcyA9IFtdO1xuICAvLyAgIGxldCBzdGFydGluZ1BvaW50ID0ge1xuICAvLyAgICAgeDogcmFuZG9tTnVtWmVyb1RvTmluZSgpLFxuICAvLyAgICAgeTogcmFuZG9tTnVtWmVyb1RvTmluZSgpLFxuICAvLyAgIH07XG5cbiAgLy8gICBsZXQgZGlyZWN0aW9uID0gcmFuZG9tRGlyZWN0aW9uKCk7XG5cbiAgLy8gICBsZXQgcGF0aCA9IGRldGVybWluZVNhZmVQYXRoKGRpcmVjdGlvbiwgc3RhcnRpbmdQb2ludCk7XG5cbiAgLy8gICBzaGlwQ29vcmRpbmF0ZXMgPSBnZW5lcmF0ZUNvb3JkaW5hdGVzKHBhdGgsIHNoaXBMZW5ndGgsIHN0YXJ0aW5nUG9pbnQpO1xuXG4gIC8vICAgcmV0dXJuIHNoaXBDb29yZGluYXRlcztcbiAgLy8gfTtcblxuICBmdW5jdGlvbiByYW5kb21QbGFjZW1lbnQoc2hpcFR5cGUpIHtcbiAgICBzd2l0Y2ggKHNoaXBUeXBlKSB7XG4gICAgICBjYXNlIFwiQ2FycmllclwiOlxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDEsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAzLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDQsXG4gICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQmF0dGxlc2hpcFwiOlxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IDksXG4gICAgICAgICAgICB5OiAyLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgeDogOSxcbiAgICAgICAgICAgIHk6IDMsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB4OiA5LFxuICAgICAgICAgICAgeTogNCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IDksXG4gICAgICAgICAgICB5OiA1LFxuICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkRlc3Ryb3llclwiOlxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IDUsXG4gICAgICAgICAgICB5OiA0LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgeDogNixcbiAgICAgICAgICAgIHk6IDQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB4OiA3LFxuICAgICAgICAgICAgeTogNCxcbiAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTdWJtYXJpbmVcIjpcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB4OiA4LFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IDgsXG4gICAgICAgICAgICB5OiAxLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgeDogOCxcbiAgICAgICAgICAgIHk6IDIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiUGF0cm9sIEJvYXRcIjpcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB4OiA1LFxuICAgICAgICAgICAgeTogNyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IDYsXG4gICAgICAgICAgICB5OiA3LFxuICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZ2VuZXJhdGluZyBjb29yZGluYXRlc1wiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiB0eXBlLFxuICAgIGxlbmd0aDogbGVuZ3RoKHR5cGUpLFxuICAgIGhpdHM6IDAsXG4gICAgc3VuazogZmFsc2UsXG4gICAgbG9jYXRpb246IHJhbmRvbVBsYWNlbWVudCh0eXBlKSxcbiAgICBoaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuaGl0cyArPSAxO1xuICAgICAgY29uc29sZS5sb2coXCJIaXQgZGV0ZWN0ZWQhXCIpO1xuICAgICAgdGhpcy5pc1N1bmsoKTtcbiAgICB9LFxuICAgIGlzU3VuazogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuaGl0cyA9PT0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zdW5rID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5uYW1lfSBoYXMgYmVlbiBzdW5rYCk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBzaGlwIH07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiY29uc3QgeyBnYW1lIH0gPSByZXF1aXJlKFwiLi9nYW1lTG9naWNcIik7XG5cbmNvbnN0IG5ld0dhbWUgPSBnYW1lKCk7XG5uZXdHYW1lLmluaXQoKTtcbiJdLCJuYW1lcyI6WyJyZW1vdmVNYXRjaGluZ09iamVjdHMiLCJtb2R1bGUiLCJleHBvcnRzIiwiY29tcHV0ZXJMZWdhbEF0dGFjayIsInBsYXllciIsImlsbGVnYWxNb3ZlcyIsImF0dGFja09wdGlvbnMiLCJpIiwiaiIsInB1c2giLCJ4IiwieSIsImJvYXJkIiwibWlzc2VkU2hvdHMiLCJmb3JFYWNoIiwib2JqIiwiaGl0cyIsImxlZ2FsQXR0YWNrcyIsInJhbmRvbUxlZ2FsQXR0YWNrIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImdhbWUiLCJyZW5kZXJHYW1lT3ZlckhUTUwiLCJnaWZVcmwiLCJoZWFkZXIiLCJzdGF0dXMiLCJtZXNzYWdlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwiZ2FtZU92ZXJDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2FtZU92ZXJIZWFkZXIiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiZ2FtZU92ZXJHaWYiLCJnYW1lT3Zlck1lc3NhZ2UiLCJwbGF5QWdhaW5CdG4iLCJpbm5lclRleHQiLCJib2R5IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJyZW5kZXJQbGF5ZXJDcmVhdGlvbkVsIiwiY29udGFpbmVyRWwiLCJvdmVydmlld1RleHQiLCJmb3JtRWwiLCJpbnB1dEVsIiwicmVxdWlyZWQiLCJidG5FbCIsImdlbmVyYXRlR2FtZWJvYXJkRWwiLCJkYXRhQXJyYXkiLCJncmlkIiwibWFpbkNvbnRhaW5lciIsInRhYmxlQ29udGFpbmVyIiwidGFibGUiLCJwbGF5ZXJIZWFkaW5nIiwibmFtZSIsInJvdyIsImRhdGFJbmRleCIsImNlbGwiLCJhdHRhY2tlZCIsInNoaXBOYW1lIiwiaGFuZGxlSGl0c0FuZE1pc3NlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0aWxlIiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlUGxheWVyR3JpZCIsImNoZWNrR2FtZU92ZXIiLCJwbGF5ZXJPbmUiLCJwbGF5ZXJUd28iLCJwcm9wT25lIiwicHJvcFR3byIsInByb3BUaHJlZSIsInByb3BGb3VyIiwiaXNMb3NlciIsInBsYXllck9uZU5hbWUiLCJ1bmRlZmluZWQiLCJwbGF5ZXJUd29OYW1lIiwiUGxheWVyVHdvIiwiaW5pdCIsInRoaXMiLCJjYWNoZURvbSIsInN0YXJ0RXZlbnRMaXN0ZW5pbmciLCJmb3JtQ29udGFpbmVyIiwiZm9ybVN1Ym1pdEJ0biIsImZvcm1JbnB1dCIsInZhbHVlIiwiaGFuZGxlR2FtZVNldHVwIiwiaGFuZGxlUGxvdHRpbmciLCJzdGFydEF0dGFja0xpc3RlbmluZyIsInRhcmdldCIsImVuZW15WCIsImVuZW15WSIsInJlY2VpdmVBdHRhY2siLCJjb21wdXRlckF0dGFjayIsInBsYXllclgiLCJwbGF5ZXJZIiwiU3RyaW5nIiwib25jZSIsInBsb3RGbGVldCIsInNoaXAiLCJnYW1lYm9hcmQiLCJncmlkQXJyIiwiZ2VuZXJhdGVHcmlkIiwic3Vua1NoaXBzIiwibXlGbGVldCIsInhDb29yZCIsInlDb29yZCIsImhpdCIsImNoZWNrU3Vua1NoaXBzIiwiY29vcmQiLCJzdW5rIiwiaW5jbHVkZXMiLCJ0b2dnbGVHYW1lT3ZlciIsInJhbmRvbU51bVplcm9Ub05pbmUiLCJyYW5kb21EaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJkZXRlcm1pbmVTYWZlUGF0aCIsInN0YXJ0IiwicGF0aCIsImFyck9uZSIsImFyclR3byIsImZpbHRlciIsIm9iak9uZSIsInNvbWUiLCJvYmpUd28iLCJpc1R1cm4iLCJ0eXBlIiwiTnVtYmVyIiwiRXJyb3IiLCJzaGlwVHlwZSIsInJhbmRvbVBsYWNlbWVudCIsImlzU3VuayIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iXSwic291cmNlUm9vdCI6IiJ9