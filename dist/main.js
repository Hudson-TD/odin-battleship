(()=>{var e={496:(e,t,a)=>{const{removeMatchingObjects:r}=a(225);e.exports={computerLegalAttack:function(e){let t=[],a=[];for(let e=0;e<10;e++)for(let t=0;t<10;t++)a.push({x:e,y:t});e.board.missedShots.forEach((e=>{t.push(e)})),e.board.hits.forEach((e=>{t.push(e)}));let n=r(a,t);return n[Math.floor(Math.random()*n.length)]}}},817:(e,t,a)=>{const{game:r}=a(404);function n(e,t,a,r){const n=document.querySelector(".main-content-container");document.querySelectorAll(".table-container").forEach((e=>e.remove()));const i=document.createElement("div");i.classList.add("game-over-container");const s=document.createElement("h1");s.classList.add("game-over-header"),s.setAttribute("id",`${a}`),s.textContent=t,i.appendChild(s);const o=document.createElement("img");o.classList.add("game-over-img"),o.setAttribute("src",e),i.appendChild(o);const l=document.createElement("p");l.classList.add("game-over-message"),l.textContent=`${r}`,i.appendChild(l);const c=document.createElement("button");c.setAttribute("id","playAgainBtn"),c.innerText="Play Again",i.appendChild(c),n.appendChild(i),document.getElementById("playAgainBtn").addEventListener("click",(e=>{e.preventDefault(),window.location.reload()}))}e.exports={renderPlayerCreationEl:function(){const e=document.querySelector(".main-content-container");let t=document.createElement("div");t.classList.add("player-creation-container");let a=document.createElement("p");a.innerText="You are about to enter unfamiliar waters in an effort to neutralize enemy ships. Due to thick fog our strategy is simple, fire artillery and observe any contact. Intel suggests the enemy fleet contains 5 ships of varying sizes...\n  \n  Instructions:\n  \n  Using arial reconnaissance, order fire on mapped coordinates. Hits will reflect red, while misses will be blue. We are counting on you.";let r=document.createElement("form");r.setAttribute("name","player-creation-form"),r.setAttribute("class","player-creation-form");let n=document.createElement("input");n.setAttribute("id","playerName"),n.setAttribute("type","text"),n.setAttribute("min","1"),n.required=!0,n.setAttribute("max","25"),n.setAttribute("placeholder","Player Name");let i=document.createElement("button");i.setAttribute("id","playerSubmit"),i.setAttribute("type","submit"),i.setAttribute("for","player-creation-form"),i.innerText="Launch Fleet",t.appendChild(r),r.appendChild(a),r.appendChild(n),r.appendChild(i),e.appendChild(t)},generateGameboardEl:function(e){const t=[...e.board.grid],a=document.querySelector(".main-content-container"),r=document.createElement("div");r.setAttribute("class","table-container");const n=document.createElement("table");n.setAttribute("class","gameboard-table");const i=document.createElement("th");i.innerText=`${e.name}'s Fleet`,r.appendChild(i);for(let a=0;a<10;a++){const r=document.createElement("tr");r.setAttribute("class","gameboard-row");for(let n=0;n<10;n++){const i=10*a+n;if(i<t.length){const a=document.createElement("td");r.appendChild(a),a.setAttribute("data-x",`${t[i].x}`),a.setAttribute("data-y",`${t[i].y}`),a.setAttribute("data-attacked",`${t[i].attacked}`),a.setAttribute("data-ship",`${t[i].shipName}`),a.setAttribute("class","gameboard-tile"),"Computer"===e.name?a.classList.add("enemy-tile"):"Computer"!==e.name&&a.classList.add("player-tile")}}n.appendChild(r)}r.appendChild(n),a.appendChild(r)},handleHitsAndMisses:function(){document.querySelectorAll(".gameboard-tile").forEach((e=>{let t=e.getAttribute("data-attacked"),a=e.getAttribute("data-ship");"true"===t&&"undefined"===a&&(e.classList.remove("enemy-tile"),e.classList.add("missed")),"true"===t&&"undefined"!==a&&(e.classList.remove("enemy-tile"),e.classList.add("hit"))}))},handlePlayerGrid:function(){document.querySelectorAll(".player-tile").forEach((e=>{"undefined"!==e.getAttribute("data-ship")&&e.classList.add("occupied")}))},checkGameOver:function(e,t){let a,r,i,s;!0===t.board.isLoser?(a="https://media.giphy.com/media/3o85xDZyvJPHLfgKXK/giphy.gif",r="You Win",i="winner",s="Operation successful, enemy fleet has been eliminated!",n(a,r,i,s)):!0===e.board.isLoser&&(a="https://media.giphy.com/media/3o6Ztn38eCMwTQIcs8/giphy.gif",r="You Lose",i="loser",s="War....war never changes...",n(a,r,i,s))}}},404:(e,t,a)=>{const{renderPlayerCreationEl:r,generateGameboardEl:n,handleHitsAndMisses:i,handlePlayerGrid:s,checkGameOver:o}=a(817),{player:l}=a(507),{computerLegalAttack:c}=a(496);e.exports={game:()=>({playerOneName:void 0,playerTwoName:"Computer",playerOne:void 0,PlayerTwo:void 0,init:function(){r(),this.cacheDom(),this.startEventListening()},cacheDom:function(){this.formContainer=document.querySelector(".player-creation-container"),this.formSubmitBtn=document.getElementById("playerSubmit"),this.formInput=document.getElementById("playerName")},startEventListening:function(){this.formSubmitBtn.addEventListener("click",(e=>{e.preventDefault(),this.playerOneName=this.formInput.value,this.formContainer.remove(),this.handleGameSetup()}))},handleGameSetup:function(){this.playerOne=l(this.playerOneName),this.PlayerTwo=l(this.playerTwoName),this.handlePlotting(),n(this.playerOne),n(this.PlayerTwo),s(),this.startAttackListening()},startAttackListening:function(){document.querySelectorAll(".enemy-tile").forEach((e=>{e.addEventListener("click",(e=>{e.target.setAttribute("data-attacked","true");let t=e.target.getAttribute("data-x"),a=e.target.getAttribute("data-y");this.PlayerTwo.board.receiveAttack(t,a);let r=c(this.playerOne);this.playerOne.board.receiveAttack(r.x,r.y),document.querySelectorAll(".player-tile").forEach((e=>{let t=e.getAttribute("data-x"),a=e.getAttribute("data-y");t===String(r.x)&&a===String(r.y)&&e.setAttribute("data-attacked","true")})),i(),o(this.playerOne,this.PlayerTwo)}),{once:!0})}))},handlePlotting:function(){this.playerOne.board.plotFleet(),this.PlayerTwo.board.plotFleet()}})}},498:(e,t,a)=>{const{ship:r}=a(643),{randomNumGen:n}=a(225);e.exports={gameboard:()=>{const e=n();let t=[];return{isLoser:!1,grid:(()=>{for(let e=0;e<10;e++)for(let a=0;a<10;a++)t.push({x:e,y:a,shipName:void 0,attacked:!1});return t})(),missedShots:[],hits:[],sunkShips:[],myFleet:[r("Carrier",e),r("Battleship",e),r("Destroyer",e),r("Submarine",e),r("Patrol Boat",e)],receiveAttack:function(e,t){console.log(`Hit logged at ${e},${t}`),this.grid.forEach((a=>{if(a.x==e&&a.y==t)if(a.attacked=!0,void 0===a.shipName)this.missedShots.push({x:e,y:t});else switch(a.shipName){case"Carrier":this.hits.push({x:e,y:t}),this.myFleet[0].hit();break;case"Battleship":this.hits.push({x:e,y:t}),this.myFleet[1].hit();break;case"Destroyer":this.hits.push({x:e,y:t}),this.myFleet[2].hit();break;case"Submarine":this.hits.push({x:e,y:t}),this.myFleet[3].hit();break;case"Patrol Boat":this.hits.push({x:e,y:t}),this.myFleet[4].hit()}})),this.checkSunkShips()},plotFleet:function(){this.myFleet.forEach((e=>{e.location.forEach((t=>{this.grid.forEach((a=>{a.x===t.x&&a.y===t.y&&(a.shipName=e.name)}))}))}))},checkSunkShips:function(){this.myFleet.forEach((e=>{!0!==e.sunk||this.sunkShips.includes(e.name)||this.sunkShips.push(String(e.name))})),this.toggleGameOver()},toggleGameOver:function(){5==this.sunkShips.length&&(this.isLoser=!0)}}}}},225:e=>{e.exports={removeMatchingObjects:function(e,t){return e.filter((e=>!t.some((t=>e.x===t.x&&e.y===t.y))))},randomNumGen:function(){return Math.floor(5*Math.random())+1}}},507:(e,t,a)=>{const{gameboard:r}=a(498);e.exports={player:e=>({name:e,isTurn:!1,board:r()})}},643:(e,t,a)=>{const{plotMaps:r}=a(471);e.exports={ship:(e,t)=>({name:e,length:(e=>{switch(e){case"Carrier":return Number(5);case"Battleship":return Number(4);case"Destroyer":case"Submarine":return Number(3);case"Patrol Boat":return Number(2);default:throw new Error("Invalid ship type provided")}})(e),hits:0,sunk:!1,location:function(e,t){switch(e){case"Carrier":return r[t][0];case"Battleship":return r[t][1];case"Destroyer":return r[t][2];case"Submarine":return r[t][3];case"Patrol Boat":return r[t][4];default:throw new Error("Error generating coordinates")}}(e,t),hit:function(){this.hits+=1,this.isSunk()},isSunk:function(){this.hits===this.length&&(this.sunk=!0)}})}},471:e=>{e.exports={plotMaps:[[],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:2,y:3},{x:2,y:4},{x:2,y:5},{x:2,y:6}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:7},{x:4,y:8},{x:4,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:5,y:3},{x:6,y:3},{x:7,y:3},{x:8,y:3}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:0,y:7},{x:1,y:7},{x:2,y:7},{x:3,y:7},{x:4,y:7}],[{x:5,y:2},{x:6,y:2},{x:7,y:2},{x:8,y:2}],[{x:9,y:5},{x:9,y:6},{x:9,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:1,y:1},{x:1,y:2}]],[[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],[{x:5,y:3},{x:6,y:3},{x:7,y:3},{x:8,y:3}],[{x:7,y:5},{x:7,y:6},{x:7,y:7}],[{x:4,y:9},{x:5,y:9},{x:6,y:9}],[{x:9,y:8},{x:9,y:9}]],[[{x:8,y:4},{x:8,y:5},{x:8,y:6},{x:8,y:7},{x:8,y:8}],[{x:1,y:2},{x:1,y:3},{x:1,y:4},{x:1,y:5}],[{x:0,y:9},{x:1,y:9},{x:2,y:9}],[{x:7,y:2},{x:8,y:2},{x:9,y:2}],[{x:4,y:3},{x:4,y:4}]]]}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}(()=>{const{game:e}=a(404);e().init()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxLQUdmLENBQ0UsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxLQUdmLENBQ0UsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxLQUdmLENBQ0UsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxJQUViLENBQ0UsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQ1gsQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLElBRWIsQ0FDRSxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FDWCxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsSUFFYixDQUNFLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUcsRUFBR0MsRUFBRyxNLEdDL0lib0ksRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCNUQsSUFBakI2RCxFQUNILE9BQU9BLEVBQWFoSixRQUdyQixJQUFJRCxFQUFTOEksRUFBeUJFLEdBQVksQ0FHakQvSSxRQUFTLENBQUMsR0FPWCxPQUhBaUosRUFBb0JGLEdBQVVoSixFQUFRQSxFQUFPQyxRQUFTOEksR0FHL0MvSSxFQUFPQyxPQUNmLEMsTUN0QkEsTUFBTSxLQUFFb0IsR0FBUyxFQUFRLEtBRVRBLElBQ1JrRSxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2NvbXB1dGVyQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZG9tQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZUxvZ2ljLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc2hpcFBsb3R0aW5nLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyByZW1vdmVNYXRjaGluZ09iamVjdHMgfSA9IHJlcXVpcmUoXCIuL2hlbHBlcnNcIik7XG5cbmZ1bmN0aW9uIGNvbXB1dGVyTGVnYWxBdHRhY2socGxheWVyKSB7XG4gIGxldCBpbGxlZ2FsTW92ZXMgPSBbXTtcbiAgbGV0IGF0dGFja09wdGlvbnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICBhdHRhY2tPcHRpb25zLnB1c2goe1xuICAgICAgICB4OiBpLFxuICAgICAgICB5OiBqLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcGxheWVyLmJvYXJkLm1pc3NlZFNob3RzLmZvckVhY2goKG9iaikgPT4ge1xuICAgIGlsbGVnYWxNb3Zlcy5wdXNoKG9iaik7XG4gIH0pO1xuXG4gIHBsYXllci5ib2FyZC5oaXRzLmZvckVhY2goKG9iaikgPT4ge1xuICAgIGlsbGVnYWxNb3Zlcy5wdXNoKG9iaik7XG4gIH0pO1xuXG4gIGxldCBsZWdhbEF0dGFja3MgPSByZW1vdmVNYXRjaGluZ09iamVjdHMoYXR0YWNrT3B0aW9ucywgaWxsZWdhbE1vdmVzKTtcblxuICBsZXQgcmFuZG9tTGVnYWxBdHRhY2sgPVxuICAgIGxlZ2FsQXR0YWNrc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZWdhbEF0dGFja3MubGVuZ3RoKV07XG5cbiAgcmV0dXJuIHJhbmRvbUxlZ2FsQXR0YWNrO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgY29tcHV0ZXJMZWdhbEF0dGFjayB9O1xuIiwiY29uc3QgeyBnYW1lIH0gPSByZXF1aXJlKFwiLi9nYW1lTG9naWNcIik7XG5cbmZ1bmN0aW9uIHJlbmRlclBsYXllckNyZWF0aW9uRWwoKSB7XG4gIGNvbnN0IG1haW5Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRlbnQtY29udGFpbmVyXCIpO1xuICBsZXQgY29udGFpbmVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb250YWluZXJFbC5jbGFzc0xpc3QuYWRkKFwicGxheWVyLWNyZWF0aW9uLWNvbnRhaW5lclwiKTtcblxuICBsZXQgb3ZlcnZpZXdUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cbiAgb3ZlcnZpZXdUZXh0LmlubmVyVGV4dCA9IGBZb3UgYXJlIGFib3V0IHRvIGVudGVyIHVuZmFtaWxpYXIgd2F0ZXJzIGluIGFuIGVmZm9ydCB0byBuZXV0cmFsaXplIGVuZW15IHNoaXBzLiBEdWUgdG8gdGhpY2sgZm9nIG91ciBzdHJhdGVneSBpcyBzaW1wbGUsIGZpcmUgYXJ0aWxsZXJ5IGFuZCBvYnNlcnZlIGFueSBjb250YWN0LiBJbnRlbCBzdWdnZXN0cyB0aGUgZW5lbXkgZmxlZXQgY29udGFpbnMgNSBzaGlwcyBvZiB2YXJ5aW5nIHNpemVzLi4uXG4gIFxuICBJbnN0cnVjdGlvbnM6XG4gIFxuICBVc2luZyBhcmlhbCByZWNvbm5haXNzYW5jZSwgb3JkZXIgZmlyZSBvbiBtYXBwZWQgY29vcmRpbmF0ZXMuIEhpdHMgd2lsbCByZWZsZWN0IHJlZCwgd2hpbGUgbWlzc2VzIHdpbGwgYmUgYmx1ZS4gV2UgYXJlIGNvdW50aW5nIG9uIHlvdS5gO1xuXG4gIGxldCBmb3JtRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgZm9ybUVsLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJwbGF5ZXItY3JlYXRpb24tZm9ybVwiKTtcbiAgZm9ybUVsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicGxheWVyLWNyZWF0aW9uLWZvcm1cIik7XG5cbiAgbGV0IGlucHV0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGlucHV0RWwuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJwbGF5ZXJOYW1lXCIpO1xuICBpbnB1dEVsLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICBpbnB1dEVsLnNldEF0dHJpYnV0ZShcIm1pblwiLCBcIjFcIik7XG4gIGlucHV0RWwucmVxdWlyZWQgPSB0cnVlO1xuICBpbnB1dEVsLnNldEF0dHJpYnV0ZShcIm1heFwiLCBcIjI1XCIpO1xuICBpbnB1dEVsLnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiUGxheWVyIE5hbWVcIik7XG5cbiAgbGV0IGJ0bkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgYnRuRWwuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJwbGF5ZXJTdWJtaXRcIik7XG4gIGJ0bkVsLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gIGJ0bkVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcInBsYXllci1jcmVhdGlvbi1mb3JtXCIpO1xuICBidG5FbC5pbm5lclRleHQgPSBcIkxhdW5jaCBGbGVldFwiO1xuXG4gIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGZvcm1FbCk7XG4gIGZvcm1FbC5hcHBlbmRDaGlsZChvdmVydmlld1RleHQpO1xuICBmb3JtRWwuYXBwZW5kQ2hpbGQoaW5wdXRFbCk7XG4gIGZvcm1FbC5hcHBlbmRDaGlsZChidG5FbCk7XG4gIG1haW5Db250ZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lckVsKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVHYW1lYm9hcmRFbChwbGF5ZXIpIHtcbiAgY29uc3QgZGF0YUFycmF5ID0gWy4uLnBsYXllci5ib2FyZC5ncmlkXTtcbiAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250ZW50LWNvbnRhaW5lclwiKTtcbiAgY29uc3QgdGFibGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0YWJsZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRhYmxlLWNvbnRhaW5lclwiKTtcbiAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gIHRhYmxlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZ2FtZWJvYXJkLXRhYmxlXCIpO1xuICBjb25zdCBwbGF5ZXJIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xuICBwbGF5ZXJIZWFkaW5nLmlubmVyVGV4dCA9IGAke3BsYXllci5uYW1lfSdzIEZsZWV0YDtcbiAgdGFibGVDb250YWluZXIuYXBwZW5kQ2hpbGQocGxheWVySGVhZGluZyk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgIHJvdy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImdhbWVib2FyZC1yb3dcIik7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgIGNvbnN0IGRhdGFJbmRleCA9IGkgKiAxMCArIGo7XG5cbiAgICAgIGlmIChkYXRhSW5kZXggPCBkYXRhQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXhcIiwgYCR7ZGF0YUFycmF5W2RhdGFJbmRleF0ueH1gKTtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXlcIiwgYCR7ZGF0YUFycmF5W2RhdGFJbmRleF0ueX1gKTtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dGFja2VkXCIsIGAke2RhdGFBcnJheVtkYXRhSW5kZXhdLmF0dGFja2VkfWApO1xuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcImRhdGEtc2hpcFwiLCBgJHtkYXRhQXJyYXlbZGF0YUluZGV4XS5zaGlwTmFtZX1gKTtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImdhbWVib2FyZC10aWxlXCIpO1xuICAgICAgICAvLyBPbmx5IGFkZCBldmVudCBsaXN0ZW5lcnMgdG8gZW5lbXkgZ2FtZWJvYXJkXG4gICAgICAgIGlmIChwbGF5ZXIubmFtZSA9PT0gXCJDb21wdXRlclwiKSB7XG4gICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiZW5lbXktdGlsZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChwbGF5ZXIubmFtZSAhPT0gXCJDb21wdXRlclwiKSB7XG4gICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwicGxheWVyLXRpbGVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGFibGUuYXBwZW5kQ2hpbGQocm93KTtcbiAgfVxuICB0YWJsZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gIG1haW5Db250YWluZXIuYXBwZW5kQ2hpbGQodGFibGVDb250YWluZXIpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVIaXRzQW5kTWlzc2VzKCkge1xuICBjb25zdCBhbGxHcmlkSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbWVib2FyZC10aWxlXCIpO1xuICBhbGxHcmlkSXRlbXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgIGxldCBzdGF0dXMgPSB0aWxlLmdldEF0dHJpYnV0ZShcImRhdGEtYXR0YWNrZWRcIik7XG4gICAgbGV0IG5hbWUgPSB0aWxlLmdldEF0dHJpYnV0ZShcImRhdGEtc2hpcFwiKTtcbiAgICBpZiAoc3RhdHVzID09PSBcInRydWVcIiAmJiBuYW1lID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJlbmVteS10aWxlXCIpO1xuICAgICAgdGlsZS5jbGFzc0xpc3QuYWRkKFwibWlzc2VkXCIpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IFwidHJ1ZVwiICYmIG5hbWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRpbGUuY2xhc3NMaXN0LnJlbW92ZShcImVuZW15LXRpbGVcIik7XG4gICAgICB0aWxlLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUGxheWVyR3JpZCgpIHtcbiAgY29uc3QgYWxsUGxheWVyVGllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGxheWVyLXRpbGVcIik7XG4gIGFsbFBsYXllclRpZXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgIGxldCBuYW1lID0gdGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNoaXBcIik7XG4gICAgaWYgKG5hbWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRpbGUuY2xhc3NMaXN0LmFkZChcIm9jY3VwaWVkXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrR2FtZU92ZXIocGxheWVyT25lLCBwbGF5ZXJUd28pIHtcbiAgbGV0IHByb3BPbmUgPSB1bmRlZmluZWQ7XG4gIGxldCBwcm9wVHdvID0gdW5kZWZpbmVkO1xuICBsZXQgcHJvcFRocmVlID0gdW5kZWZpbmVkO1xuICBsZXQgcHJvcEZvdXIgPSB1bmRlZmluZWQ7XG5cbiAgaWYgKHBsYXllclR3by5ib2FyZC5pc0xvc2VyID09PSB0cnVlKSB7XG4gICAgcHJvcE9uZSA9IFwiaHR0cHM6Ly9tZWRpYS5naXBoeS5jb20vbWVkaWEvM284NXhEWnl2SlBITGZnS1hLL2dpcGh5LmdpZlwiO1xuICAgIHByb3BUd28gPSBcIllvdSBXaW5cIjtcbiAgICBwcm9wVGhyZWUgPSBcIndpbm5lclwiO1xuICAgIHByb3BGb3VyID0gXCJPcGVyYXRpb24gc3VjY2Vzc2Z1bCwgZW5lbXkgZmxlZXQgaGFzIGJlZW4gZWxpbWluYXRlZCFcIjtcbiAgICByZW5kZXJHYW1lT3ZlckhUTUwocHJvcE9uZSwgcHJvcFR3bywgcHJvcFRocmVlLCBwcm9wRm91cik7XG4gIH0gZWxzZSBpZiAocGxheWVyT25lLmJvYXJkLmlzTG9zZXIgPT09IHRydWUpIHtcbiAgICBwcm9wT25lID0gXCJodHRwczovL21lZGlhLmdpcGh5LmNvbS9tZWRpYS8zbzZadG4zOGVDTXdUUUljczgvZ2lwaHkuZ2lmXCI7XG4gICAgcHJvcFR3byA9IFwiWW91IExvc2VcIjtcbiAgICBwcm9wVGhyZWUgPSBcImxvc2VyXCI7XG4gICAgcHJvcEZvdXIgPSBcIldhci4uLi53YXIgbmV2ZXIgY2hhbmdlcy4uLlwiO1xuICAgIHJlbmRlckdhbWVPdmVySFRNTChwcm9wT25lLCBwcm9wVHdvLCBwcm9wVGhyZWUsIHByb3BGb3VyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJHYW1lT3ZlckhUTUwoZ2lmVXJsLCBoZWFkZXIsIHN0YXR1cywgbWVzc2FnZSkge1xuICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250ZW50LWNvbnRhaW5lclwiKTtcbiAgbGV0IHRhYmxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFibGUtY29udGFpbmVyXCIpO1xuICB0YWJsZXMuZm9yRWFjaCgodGFibGUpID0+IHRhYmxlLnJlbW92ZSgpKTtcblxuICBjb25zdCBnYW1lT3ZlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGdhbWVPdmVyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJnYW1lLW92ZXItY29udGFpbmVyXCIpO1xuXG4gIGNvbnN0IGdhbWVPdmVySGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICBnYW1lT3ZlckhlYWRlci5jbGFzc0xpc3QuYWRkKFwiZ2FtZS1vdmVyLWhlYWRlclwiKTtcbiAgZ2FtZU92ZXJIZWFkZXIuc2V0QXR0cmlidXRlKFwiaWRcIiwgYCR7c3RhdHVzfWApO1xuICBnYW1lT3ZlckhlYWRlci50ZXh0Q29udGVudCA9IGhlYWRlcjtcbiAgZ2FtZU92ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZ2FtZU92ZXJIZWFkZXIpO1xuXG4gIGNvbnN0IGdhbWVPdmVyR2lmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgZ2FtZU92ZXJHaWYuY2xhc3NMaXN0LmFkZChcImdhbWUtb3Zlci1pbWdcIik7XG4gIGdhbWVPdmVyR2lmLnNldEF0dHJpYnV0ZShcInNyY1wiLCBnaWZVcmwpO1xuICBnYW1lT3ZlckNvbnRhaW5lci5hcHBlbmRDaGlsZChnYW1lT3ZlckdpZik7XG5cbiAgY29uc3QgZ2FtZU92ZXJNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIGdhbWVPdmVyTWVzc2FnZS5jbGFzc0xpc3QuYWRkKFwiZ2FtZS1vdmVyLW1lc3NhZ2VcIik7XG4gIGdhbWVPdmVyTWVzc2FnZS50ZXh0Q29udGVudCA9IGAke21lc3NhZ2V9YDtcbiAgZ2FtZU92ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZ2FtZU92ZXJNZXNzYWdlKTtcblxuICBjb25zdCBwbGF5QWdhaW5CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBwbGF5QWdhaW5CdG4uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJwbGF5QWdhaW5CdG5cIik7XG4gIHBsYXlBZ2FpbkJ0bi5pbm5lclRleHQgPSBcIlBsYXkgQWdhaW5cIjtcbiAgZ2FtZU92ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQocGxheUFnYWluQnRuKTtcblxuICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChnYW1lT3ZlckNvbnRhaW5lcik7XG4gIGxpc3RlbkZvclBsYXlBZ2FpbigpO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5Gb3JQbGF5QWdhaW4oKSB7XG4gIGNvbnN0IHBsYXlBZ2FpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUFnYWluQnRuXCIpO1xuICBwbGF5QWdhaW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByZW5kZXJQbGF5ZXJDcmVhdGlvbkVsLFxuICBnZW5lcmF0ZUdhbWVib2FyZEVsLFxuICBoYW5kbGVIaXRzQW5kTWlzc2VzLFxuICBoYW5kbGVQbGF5ZXJHcmlkLFxuICBjaGVja0dhbWVPdmVyLFxufTtcbiIsImNvbnN0IHtcbiAgcmVuZGVyUGxheWVyQ3JlYXRpb25FbCxcbiAgZ2VuZXJhdGVHYW1lYm9hcmRFbCxcbiAgaGFuZGxlSGl0c0FuZE1pc3NlcyxcbiAgaGFuZGxlUGxheWVyR3JpZCxcbiAgY2hlY2tHYW1lT3Zlcixcbn0gPSByZXF1aXJlKFwiLi9kb21Db250cm9sbGVyXCIpO1xuY29uc3QgeyBwbGF5ZXIgfSA9IHJlcXVpcmUoXCIuL3BsYXllclwiKTtcbmNvbnN0IHsgY29tcHV0ZXJMZWdhbEF0dGFjayB9ID0gcmVxdWlyZShcIi4vY29tcHV0ZXJBY3Rpb25zXCIpO1xuXG5jb25zdCBnYW1lID0gKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHBsYXllck9uZU5hbWU6IHVuZGVmaW5lZCxcbiAgICBwbGF5ZXJUd29OYW1lOiBcIkNvbXB1dGVyXCIsXG4gICAgcGxheWVyT25lOiB1bmRlZmluZWQsXG4gICAgUGxheWVyVHdvOiB1bmRlZmluZWQsXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgcmVuZGVyUGxheWVyQ3JlYXRpb25FbCgpO1xuICAgICAgdGhpcy5jYWNoZURvbSgpO1xuICAgICAgdGhpcy5zdGFydEV2ZW50TGlzdGVuaW5nKCk7XG4gICAgfSxcbiAgICBjYWNoZURvbTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5mb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItY3JlYXRpb24tY29udGFpbmVyXCIpO1xuICAgICAgdGhpcy5mb3JtU3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5ZXJTdWJtaXRcIik7XG4gICAgICB0aGlzLmZvcm1JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyTmFtZVwiKTtcbiAgICB9LFxuICAgIHN0YXJ0RXZlbnRMaXN0ZW5pbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnBsYXllck9uZU5hbWUgPSB0aGlzLmZvcm1JbnB1dC52YWx1ZTtcbiAgICAgICAgdGhpcy5mb3JtQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmhhbmRsZUdhbWVTZXR1cCgpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVHYW1lU2V0dXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucGxheWVyT25lID0gcGxheWVyKHRoaXMucGxheWVyT25lTmFtZSk7XG4gICAgICB0aGlzLlBsYXllclR3byA9IHBsYXllcih0aGlzLnBsYXllclR3b05hbWUpO1xuICAgICAgdGhpcy5oYW5kbGVQbG90dGluZygpO1xuICAgICAgZ2VuZXJhdGVHYW1lYm9hcmRFbCh0aGlzLnBsYXllck9uZSk7XG4gICAgICBnZW5lcmF0ZUdhbWVib2FyZEVsKHRoaXMuUGxheWVyVHdvKTtcbiAgICAgIGhhbmRsZVBsYXllckdyaWQoKTtcbiAgICAgIHRoaXMuc3RhcnRBdHRhY2tMaXN0ZW5pbmcoKTtcbiAgICB9LFxuICAgIHN0YXJ0QXR0YWNrTGlzdGVuaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZW5lbXktdGlsZVwiKTtcbiAgICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiZGF0YS1hdHRhY2tlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICBsZXQgZW5lbXlYID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS14XCIpO1xuICAgICAgICAgICAgbGV0IGVuZW15WSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEteVwiKTtcbiAgICAgICAgICAgIHRoaXMuUGxheWVyVHdvLmJvYXJkLnJlY2VpdmVBdHRhY2soZW5lbXlYLCBlbmVteVkpO1xuICAgICAgICAgICAgbGV0IGNvbXB1dGVyQXR0YWNrID0gY29tcHV0ZXJMZWdhbEF0dGFjayh0aGlzLnBsYXllck9uZSk7XG4gICAgICAgICAgICB0aGlzLnBsYXllck9uZS5ib2FyZC5yZWNlaXZlQXR0YWNrKFxuICAgICAgICAgICAgICBjb21wdXRlckF0dGFjay54LFxuICAgICAgICAgICAgICBjb21wdXRlckF0dGFjay55XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcGxheWVyT25lVGlsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBsYXllci10aWxlXCIpO1xuICAgICAgICAgICAgcGxheWVyT25lVGlsZXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgICAgICAgICAgICBsZXQgcGxheWVyWCA9IHRpbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS14XCIpO1xuICAgICAgICAgICAgICBsZXQgcGxheWVyWSA9IHRpbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS15XCIpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcGxheWVyWCA9PT0gU3RyaW5nKGNvbXB1dGVyQXR0YWNrLngpICYmXG4gICAgICAgICAgICAgICAgcGxheWVyWSA9PT0gU3RyaW5nKGNvbXB1dGVyQXR0YWNrLnkpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRpbGUuc2V0QXR0cmlidXRlKFwiZGF0YS1hdHRhY2tlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFuZGxlSGl0c0FuZE1pc3NlcygpO1xuICAgICAgICAgICAgY2hlY2tHYW1lT3Zlcih0aGlzLnBsYXllck9uZSwgdGhpcy5QbGF5ZXJUd28pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBvbmNlOiB0cnVlIH1cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaGFuZGxlUGxvdHRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucGxheWVyT25lLmJvYXJkLnBsb3RGbGVldCgpO1xuICAgICAgdGhpcy5QbGF5ZXJUd28uYm9hcmQucGxvdEZsZWV0KCk7XG4gICAgfSxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBnYW1lIH07XG4iLCJjb25zdCB7IHNoaXAgfSA9IHJlcXVpcmUoXCIuL3NoaXBcIik7XG5jb25zdCB7IHJhbmRvbU51bUdlbiB9ID0gcmVxdWlyZShcIi4vaGVscGVyc1wiKTtcblxuY29uc3QgZ2FtZWJvYXJkID0gKCkgPT4ge1xuICBjb25zdCByYW5kb21OdW0gPSByYW5kb21OdW1HZW4oKTtcbiAgbGV0IGdyaWRBcnIgPSBbXTtcblxuICBjb25zdCBnZW5lcmF0ZUdyaWQgPSAoKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgZ3JpZEFyci5wdXNoKHtcbiAgICAgICAgICB4OiBpLFxuICAgICAgICAgIHk6IGosXG4gICAgICAgICAgc2hpcE5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICBhdHRhY2tlZDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncmlkQXJyO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaXNMb3NlcjogZmFsc2UsXG4gICAgZ3JpZDogZ2VuZXJhdGVHcmlkKCksXG4gICAgbWlzc2VkU2hvdHM6IFtdLFxuICAgIGhpdHM6IFtdLFxuICAgIHN1bmtTaGlwczogW10sXG4gICAgbXlGbGVldDogW1xuICAgICAgc2hpcChcIkNhcnJpZXJcIiwgcmFuZG9tTnVtKSxcbiAgICAgIHNoaXAoXCJCYXR0bGVzaGlwXCIsIHJhbmRvbU51bSksXG4gICAgICBzaGlwKFwiRGVzdHJveWVyXCIsIHJhbmRvbU51bSksXG4gICAgICBzaGlwKFwiU3VibWFyaW5lXCIsIHJhbmRvbU51bSksXG4gICAgICBzaGlwKFwiUGF0cm9sIEJvYXRcIiwgcmFuZG9tTnVtKSxcbiAgICBdLFxuICAgIHJlY2VpdmVBdHRhY2s6IGZ1bmN0aW9uICh4Q29vcmQsIHlDb29yZCkge1xuICAgICAgY29uc29sZS5sb2coYEhpdCBsb2dnZWQgYXQgJHt4Q29vcmR9LCR7eUNvb3JkfWApO1xuICAgICAgdGhpcy5ncmlkLmZvckVhY2goKG9iaikgPT4ge1xuICAgICAgICBpZiAob2JqLnggPT0geENvb3JkICYmIG9iai55ID09IHlDb29yZCkge1xuICAgICAgICAgIG9iai5hdHRhY2tlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKG9iai5zaGlwTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1pc3NlZFNob3RzLnB1c2goeyB4OiB4Q29vcmQsIHk6IHlDb29yZCB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChvYmouc2hpcE5hbWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIkNhcnJpZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmhpdHMucHVzaCh7IHg6IHhDb29yZCwgeTogeUNvb3JkIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubXlGbGVldFswXS5oaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIkJhdHRsZXNoaXBcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmhpdHMucHVzaCh7IHg6IHhDb29yZCwgeTogeUNvb3JkIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubXlGbGVldFsxXS5oaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIkRlc3Ryb3llclwiOlxuICAgICAgICAgICAgICAgIHRoaXMuaGl0cy5wdXNoKHsgeDogeENvb3JkLCB5OiB5Q29vcmQgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5teUZsZWV0WzJdLmhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiU3VibWFyaW5lXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2goeyB4OiB4Q29vcmQsIHk6IHlDb29yZCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm15RmxlZXRbM10uaGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJQYXRyb2wgQm9hdFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuaGl0cy5wdXNoKHsgeDogeENvb3JkLCB5OiB5Q29vcmQgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5teUZsZWV0WzRdLmhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2hlY2tTdW5rU2hpcHMoKTtcbiAgICB9LFxuICAgIHBsb3RGbGVldDogZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGZsZWV0ID0gdGhpcy5teUZsZWV0O1xuICAgICAgZmxlZXQuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICBsZXQgcGxvdHMgPSBzaGlwLmxvY2F0aW9uO1xuICAgICAgICBwbG90cy5mb3JFYWNoKChjb29yZCkgPT4ge1xuICAgICAgICAgIHRoaXMuZ3JpZC5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICAgIGlmIChvYmoueCA9PT0gY29vcmQueCAmJiBvYmoueSA9PT0gY29vcmQueSkge1xuICAgICAgICAgICAgICBvYmouc2hpcE5hbWUgPSBzaGlwLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGVja1N1bmtTaGlwczogZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGZsZWV0ID0gdGhpcy5teUZsZWV0O1xuICAgICAgZmxlZXQuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICBpZiAoc2hpcC5zdW5rID09PSB0cnVlICYmICF0aGlzLnN1bmtTaGlwcy5pbmNsdWRlcyhzaGlwLm5hbWUpKSB7XG4gICAgICAgICAgdGhpcy5zdW5rU2hpcHMucHVzaChTdHJpbmcoc2hpcC5uYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy50b2dnbGVHYW1lT3ZlcigpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVHYW1lT3ZlcjogZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHRyaWdnZXIgPSB0aGlzLnN1bmtTaGlwcy5sZW5ndGg7XG4gICAgICBpZiAodHJpZ2dlciA9PSA1KSB7XG4gICAgICAgIHRoaXMuaXNMb3NlciA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBnYW1lYm9hcmQgfTtcbiIsImZ1bmN0aW9uIHJlbW92ZU1hdGNoaW5nT2JqZWN0cyhhcnJPbmUsIGFyclR3bykge1xuICByZXR1cm4gYXJyT25lLmZpbHRlcihcbiAgICAob2JqT25lKSA9PlxuICAgICAgIWFyclR3by5zb21lKChvYmpUd28pID0+IG9iak9uZS54ID09PSBvYmpUd28ueCAmJiBvYmpPbmUueSA9PT0gb2JqVHdvLnkpXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbU51bUdlbigpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpICsgMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJlbW92ZU1hdGNoaW5nT2JqZWN0cyxcbiAgcmFuZG9tTnVtR2VuLFxufTtcbiIsImNvbnN0IHsgZ2FtZWJvYXJkIH0gPSByZXF1aXJlKFwiLi9nYW1lYm9hcmQuanNcIik7XG5cbmNvbnN0IHBsYXllciA9IChuYW1lKSA9PiB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBpc1R1cm46IGZhbHNlLFxuICAgIGJvYXJkOiBnYW1lYm9hcmQoKSxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBwbGF5ZXIgfTtcbiIsImNvbnN0IHsgcGxvdE1hcHMgfSA9IHJlcXVpcmUoXCIuL3NoaXBQbG90dGluZ1wiKTtcblxuY29uc3Qgc2hpcCA9ICh0eXBlLCByYW5kb21TZXQpID0+IHtcbiAgY29uc3QgbGVuZ3RoID0gKHR5cGUpID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJDYXJyaWVyXCI6XG4gICAgICAgIHJldHVybiBOdW1iZXIoNSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkJhdHRsZXNoaXBcIjpcbiAgICAgICAgcmV0dXJuIE51bWJlcig0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiRGVzdHJveWVyXCI6XG4gICAgICAgIHJldHVybiBOdW1iZXIoMyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlN1Ym1hcmluZVwiOlxuICAgICAgICByZXR1cm4gTnVtYmVyKDMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJQYXRyb2wgQm9hdFwiOlxuICAgICAgICByZXR1cm4gTnVtYmVyKDIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2hpcCB0eXBlIHByb3ZpZGVkXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gcmFuZG9tUGxhY2VtZW50KHNoaXBUeXBlLCBzZXQpIHtcbiAgICBzd2l0Y2ggKHNoaXBUeXBlKSB7XG4gICAgICBjYXNlIFwiQ2FycmllclwiOlxuICAgICAgICByZXR1cm4gcGxvdE1hcHNbc2V0XVswXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQmF0dGxlc2hpcFwiOlxuICAgICAgICByZXR1cm4gcGxvdE1hcHNbc2V0XVsxXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiRGVzdHJveWVyXCI6XG4gICAgICAgIHJldHVybiBwbG90TWFwc1tzZXRdWzJdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTdWJtYXJpbmVcIjpcbiAgICAgICAgcmV0dXJuIHBsb3RNYXBzW3NldF1bM107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlBhdHJvbCBCb2F0XCI6XG4gICAgICAgIHJldHVybiBwbG90TWFwc1tzZXRdWzRdO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGdlbmVyYXRpbmcgY29vcmRpbmF0ZXNcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogdHlwZSxcbiAgICBsZW5ndGg6IGxlbmd0aCh0eXBlKSxcbiAgICBoaXRzOiAwLFxuICAgIHN1bms6IGZhbHNlLFxuICAgIGxvY2F0aW9uOiByYW5kb21QbGFjZW1lbnQodHlwZSwgcmFuZG9tU2V0KSxcbiAgICBoaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuaGl0cyArPSAxO1xuICAgICAgdGhpcy5pc1N1bmsoKTtcbiAgICB9LFxuICAgIGlzU3VuazogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuaGl0cyA9PT0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zdW5rID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IHNoaXAgfTtcbiIsImNvbnN0IHBsb3RNYXBzID0gW1xuICBbXSxcbiAgW1xuICAgIFtcbiAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgeyB4OiAwLCB5OiAxIH0sXG4gICAgICB7IHg6IDAsIHk6IDIgfSxcbiAgICAgIHsgeDogMCwgeTogMyB9LFxuICAgICAgeyB4OiAwLCB5OiA0IH0sXG4gICAgXSxcbiAgICBbXG4gICAgICB7IHg6IDIsIHk6IDMgfSxcbiAgICAgIHsgeDogMiwgeTogNCB9LFxuICAgICAgeyB4OiAyLCB5OiA1IH0sXG4gICAgICB7IHg6IDIsIHk6IDYgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNywgeTogNSB9LFxuICAgICAgeyB4OiA3LCB5OiA2IH0sXG4gICAgICB7IHg6IDcsIHk6IDcgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNCwgeTogNyB9LFxuICAgICAgeyB4OiA0LCB5OiA4IH0sXG4gICAgICB7IHg6IDQsIHk6IDkgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogOSwgeTogOCB9LFxuICAgICAgeyB4OiA5LCB5OiA5IH0sXG4gICAgXSxcbiAgXSxcbiAgW1xuICAgIFtcbiAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgeyB4OiAwLCB5OiAxIH0sXG4gICAgICB7IHg6IDAsIHk6IDIgfSxcbiAgICAgIHsgeDogMCwgeTogMyB9LFxuICAgICAgeyB4OiAwLCB5OiA0IH0sXG4gICAgXSxcbiAgICBbXG4gICAgICB7IHg6IDUsIHk6IDMgfSxcbiAgICAgIHsgeDogNiwgeTogMyB9LFxuICAgICAgeyB4OiA3LCB5OiAzIH0sXG4gICAgICB7IHg6IDgsIHk6IDMgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNywgeTogNSB9LFxuICAgICAgeyB4OiA3LCB5OiA2IH0sXG4gICAgICB7IHg6IDcsIHk6IDcgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNCwgeTogOSB9LFxuICAgICAgeyB4OiA1LCB5OiA5IH0sXG4gICAgICB7IHg6IDYsIHk6IDkgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogOSwgeTogOCB9LFxuICAgICAgeyB4OiA5LCB5OiA5IH0sXG4gICAgXSxcbiAgXSxcbiAgW1xuICAgIFtcbiAgICAgIHsgeDogMCwgeTogNyB9LFxuICAgICAgeyB4OiAxLCB5OiA3IH0sXG4gICAgICB7IHg6IDIsIHk6IDcgfSxcbiAgICAgIHsgeDogMywgeTogNyB9LFxuICAgICAgeyB4OiA0LCB5OiA3IH0sXG4gICAgXSxcbiAgICBbXG4gICAgICB7IHg6IDUsIHk6IDIgfSxcbiAgICAgIHsgeDogNiwgeTogMiB9LFxuICAgICAgeyB4OiA3LCB5OiAyIH0sXG4gICAgICB7IHg6IDgsIHk6IDIgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogOSwgeTogNSB9LFxuICAgICAgeyB4OiA5LCB5OiA2IH0sXG4gICAgICB7IHg6IDksIHk6IDcgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNCwgeTogOSB9LFxuICAgICAgeyB4OiA1LCB5OiA5IH0sXG4gICAgICB7IHg6IDYsIHk6IDkgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogMSwgeTogMSB9LFxuICAgICAgeyB4OiAxLCB5OiAyIH0sXG4gICAgXSxcbiAgXSxcbiAgW1xuICAgIFtcbiAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgeyB4OiAwLCB5OiAxIH0sXG4gICAgICB7IHg6IDAsIHk6IDIgfSxcbiAgICAgIHsgeDogMCwgeTogMyB9LFxuICAgICAgeyB4OiAwLCB5OiA0IH0sXG4gICAgXSxcbiAgICBbXG4gICAgICB7IHg6IDUsIHk6IDMgfSxcbiAgICAgIHsgeDogNiwgeTogMyB9LFxuICAgICAgeyB4OiA3LCB5OiAzIH0sXG4gICAgICB7IHg6IDgsIHk6IDMgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNywgeTogNSB9LFxuICAgICAgeyB4OiA3LCB5OiA2IH0sXG4gICAgICB7IHg6IDcsIHk6IDcgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNCwgeTogOSB9LFxuICAgICAgeyB4OiA1LCB5OiA5IH0sXG4gICAgICB7IHg6IDYsIHk6IDkgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogOSwgeTogOCB9LFxuICAgICAgeyB4OiA5LCB5OiA5IH0sXG4gICAgXSxcbiAgXSxcbiAgW1xuICAgIFtcbiAgICAgIHsgeDogOCwgeTogNCB9LFxuICAgICAgeyB4OiA4LCB5OiA1IH0sXG4gICAgICB7IHg6IDgsIHk6IDYgfSxcbiAgICAgIHsgeDogOCwgeTogNyB9LFxuICAgICAgeyB4OiA4LCB5OiA4IH0sXG4gICAgXSxcbiAgICBbXG4gICAgICB7IHg6IDEsIHk6IDIgfSxcbiAgICAgIHsgeDogMSwgeTogMyB9LFxuICAgICAgeyB4OiAxLCB5OiA0IH0sXG4gICAgICB7IHg6IDEsIHk6IDUgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogMCwgeTogOSB9LFxuICAgICAgeyB4OiAxLCB5OiA5IH0sXG4gICAgICB7IHg6IDIsIHk6IDkgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNywgeTogMiB9LFxuICAgICAgeyB4OiA4LCB5OiAyIH0sXG4gICAgICB7IHg6IDksIHk6IDIgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIHsgeDogNCwgeTogMyB9LFxuICAgICAgeyB4OiA0LCB5OiA0IH0sXG4gICAgXSxcbiAgXSxcbl07XG5cbm1vZHVsZS5leHBvcnRzID0geyBwbG90TWFwcyB9O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImNvbnN0IHsgZ2FtZSB9ID0gcmVxdWlyZShcIi4vZ2FtZUxvZ2ljXCIpO1xuXG5jb25zdCBuZXdHYW1lID0gZ2FtZSgpO1xubmV3R2FtZS5pbml0KCk7XG4iXSwibmFtZXMiOlsicmVtb3ZlTWF0Y2hpbmdPYmplY3RzIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbXB1dGVyTGVnYWxBdHRhY2siLCJwbGF5ZXIiLCJpbGxlZ2FsTW92ZXMiLCJhdHRhY2tPcHRpb25zIiwiaSIsImoiLCJwdXNoIiwieCIsInkiLCJib2FyZCIsIm1pc3NlZFNob3RzIiwiZm9yRWFjaCIsIm9iaiIsImhpdHMiLCJsZWdhbEF0dGFja3MiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJnYW1lIiwicmVuZGVyR2FtZU92ZXJIVE1MIiwiZ2lmVXJsIiwiaGVhZGVyIiwic3RhdHVzIiwibWVzc2FnZSIsIm1haW5Db250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsInRhYmxlIiwicmVtb3ZlIiwiZ2FtZU92ZXJDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2FtZU92ZXJIZWFkZXIiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiZ2FtZU92ZXJHaWYiLCJnYW1lT3Zlck1lc3NhZ2UiLCJwbGF5QWdhaW5CdG4iLCJpbm5lclRleHQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsInJlbmRlclBsYXllckNyZWF0aW9uRWwiLCJjb250YWluZXJFbCIsIm92ZXJ2aWV3VGV4dCIsImZvcm1FbCIsImlucHV0RWwiLCJyZXF1aXJlZCIsImJ0bkVsIiwiZ2VuZXJhdGVHYW1lYm9hcmRFbCIsImRhdGFBcnJheSIsImdyaWQiLCJtYWluQ29udGFpbmVyIiwidGFibGVDb250YWluZXIiLCJwbGF5ZXJIZWFkaW5nIiwibmFtZSIsInJvdyIsImRhdGFJbmRleCIsImNlbGwiLCJhdHRhY2tlZCIsInNoaXBOYW1lIiwiaGFuZGxlSGl0c0FuZE1pc3NlcyIsInRpbGUiLCJnZXRBdHRyaWJ1dGUiLCJoYW5kbGVQbGF5ZXJHcmlkIiwiY2hlY2tHYW1lT3ZlciIsInBsYXllck9uZSIsInBsYXllclR3byIsInByb3BPbmUiLCJwcm9wVHdvIiwicHJvcFRocmVlIiwicHJvcEZvdXIiLCJpc0xvc2VyIiwicGxheWVyT25lTmFtZSIsInVuZGVmaW5lZCIsInBsYXllclR3b05hbWUiLCJQbGF5ZXJUd28iLCJpbml0IiwidGhpcyIsImNhY2hlRG9tIiwic3RhcnRFdmVudExpc3RlbmluZyIsImZvcm1Db250YWluZXIiLCJmb3JtU3VibWl0QnRuIiwiZm9ybUlucHV0IiwidmFsdWUiLCJoYW5kbGVHYW1lU2V0dXAiLCJoYW5kbGVQbG90dGluZyIsInN0YXJ0QXR0YWNrTGlzdGVuaW5nIiwidGFyZ2V0IiwiZW5lbXlYIiwiZW5lbXlZIiwicmVjZWl2ZUF0dGFjayIsImNvbXB1dGVyQXR0YWNrIiwicGxheWVyWCIsInBsYXllclkiLCJTdHJpbmciLCJvbmNlIiwicGxvdEZsZWV0Iiwic2hpcCIsInJhbmRvbU51bUdlbiIsImdhbWVib2FyZCIsInJhbmRvbU51bSIsImdyaWRBcnIiLCJnZW5lcmF0ZUdyaWQiLCJzdW5rU2hpcHMiLCJteUZsZWV0IiwieENvb3JkIiwieUNvb3JkIiwiY29uc29sZSIsImxvZyIsImhpdCIsImNoZWNrU3Vua1NoaXBzIiwiY29vcmQiLCJzdW5rIiwiaW5jbHVkZXMiLCJ0b2dnbGVHYW1lT3ZlciIsImFyck9uZSIsImFyclR3byIsImZpbHRlciIsIm9iak9uZSIsInNvbWUiLCJvYmpUd28iLCJpc1R1cm4iLCJwbG90TWFwcyIsInR5cGUiLCJyYW5kb21TZXQiLCJOdW1iZXIiLCJFcnJvciIsInNoaXBUeXBlIiwic2V0IiwicmFuZG9tUGxhY2VtZW50IiwiaXNTdW5rIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=